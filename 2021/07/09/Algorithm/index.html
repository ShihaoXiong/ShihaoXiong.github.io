<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Data Structure &amp; Algorithm - xBlog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="xBlog"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="xBlog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Data StructureData structure is a particular way of organzing data in a computer so that it can be used efficiently."><meta property="og:type" content="blog"><meta property="og:title" content="Data Structure &amp; Algorithm"><meta property="og:url" content="https://xiongshihao.xyz/2021/07/09/Algorithm/"><meta property="og:site_name" content="xBlog"><meta property="og:description" content="Data StructureData structure is a particular way of organzing data in a computer so that it can be used efficiently."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/12.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/13.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/14.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/15.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/16.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/17.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/18.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/19.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/01.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/02.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/03.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/04.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/05.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/06.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/07.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/20.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/08.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/09.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/10.png"><meta property="og:image" content="https://xiongshihao.xyz/assets/algorithm/11.png"><meta property="article:published_time" content="2021-07-09T20:02:50.000Z"><meta property="article:modified_time" content="2022-01-16T03:50:48.595Z"><meta property="article:author" content="Shihao Xiong"><meta property="article:tag" content="Java"><meta property="article:tag" content="Algorithm"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/assets/algorithm/12.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xiongshihao.xyz/2021/07/09/Algorithm/"},"headline":"Data Structure & Algorithm","image":["https://xiongshihao.xyz/assets/algorithm/12.png","https://xiongshihao.xyz/assets/algorithm/13.png","https://xiongshihao.xyz/assets/algorithm/14.png","https://xiongshihao.xyz/assets/algorithm/15.png","https://xiongshihao.xyz/assets/algorithm/16.png","https://xiongshihao.xyz/assets/algorithm/17.png","https://xiongshihao.xyz/assets/algorithm/18.png","https://xiongshihao.xyz/assets/algorithm/19.png","https://xiongshihao.xyz/assets/algorithm/01.png","https://xiongshihao.xyz/assets/algorithm/02.png","https://xiongshihao.xyz/assets/algorithm/03.png","https://xiongshihao.xyz/assets/algorithm/04.png","https://xiongshihao.xyz/assets/algorithm/05.png","https://xiongshihao.xyz/assets/algorithm/06.png","https://xiongshihao.xyz/assets/algorithm/07.png","https://xiongshihao.xyz/assets/algorithm/20.png","https://xiongshihao.xyz/assets/algorithm/08.png","https://xiongshihao.xyz/assets/algorithm/09.png","https://xiongshihao.xyz/assets/algorithm/10.png","https://xiongshihao.xyz/assets/algorithm/11.png"],"datePublished":"2021-07-09T20:02:50.000Z","dateModified":"2022-01-16T03:50:48.595Z","author":{"@type":"Person","name":"Shihao Xiong"},"publisher":{"@type":"Organization","name":"xBlog","logo":{"@type":"ImageObject","url":"https://xiongshihao.xyz/img/logo.png"}},"description":"Data StructureData structure is a particular way of organzing data in a computer so that it can be used efficiently."}</script><link rel="canonical" href="https://xiongshihao.xyz/2021/07/09/Algorithm/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/color-brewer.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="xBlog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About Me</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-09T20:02:50.000Z" title="7/9/2021, 4:02:50 PM">2021-07-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-16T03:50:48.595Z" title="1/15/2022, 10:50:48 PM">2022-01-15</time></span><span class="level-item"><a class="link-muted" href="/categories/Notes/">Notes</a></span><span class="level-item">an hour read (About 8329 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Data Structure &amp; Algorithm</h1><div class="content"><h2 id="Data-Structure"><a href="#Data-Structure" class="headerlink" title="Data Structure"></a>Data Structure</h2><p><strong>Data structure</strong> is a particular way of organzing data in a computer so that it can be used efficiently.</p>
<span id="more"></span>

<p><strong>Common data structure</strong></p>
<ul>
<li><strong>Array</strong></li>
<li><strong>Stack</strong></li>
<li><strong>Queue</strong></li>
<li><strong>Linked List</strong></li>
<li><strong>Tree</strong></li>
<li><strong>Heap</strong></li>
<li><strong>Graph</strong></li>
<li>Hash Table</li>
<li>UnionFind</li>
<li>Trie</li>
<li>…</li>
</ul>
<h3 id="Time-Complexity-amp-Space-Complexity"><a href="#Time-Complexity-amp-Space-Complexity" class="headerlink" title="Time Complexity &amp; Space Complexity"></a>Time Complexity &amp; Space Complexity</h3><p><strong>Big O notation</strong>: algorithm complexity (time complexity(TC), space complexity(SC))</p>
<p><code>1 &lt; log2n == log10(n) &lt; sqrt(n) &lt; n &lt; nlog n &lt; n^2 &lt; n^3 &lt; 2^n &lt; 10^n &lt; n! &lt; n^n</code></p>
<h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><p>ArrayList is regarded as a <strong>resizable</strong> array.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListDemo</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// byte -&gt; Byte</span></span><br><span class="line">      <span class="comment">// short -&gt; Short</span></span><br><span class="line">      <span class="comment">// int -&gt; Integer = int + null</span></span><br><span class="line">      <span class="comment">// long -&gt; Long</span></span><br><span class="line">      <span class="comment">// double -&gt; Double</span></span><br><span class="line">      <span class="comment">// char -&gt; Character</span></span><br><span class="line">      <span class="comment">// boolean -&gt; Boolean</span></span><br><span class="line">      List&lt;Integer&gt; newList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(); <span class="comment">// &#123;&#125;</span></span><br><span class="line">      newList.add(<span class="number">1</span>); <span class="comment">// &#123;1&#125;</span></span><br><span class="line">      newList.add(<span class="number">9</span>); <span class="comment">// &#123;1, 9&#125;</span></span><br><span class="line">      System.out.println(newList.get(<span class="number">1</span>)); <span class="comment">// 9</span></span><br><span class="line">      System.out.println(newList.size()); <span class="comment">// 2</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h2><p><strong>Principles of Binary Search</strong></p>
<ol>
<li>We must guarantee that the <strong>search space decreases</strong> over time (after each iteration)</li>
<li>We must guarantee that the <strong>target (if exists) cannot be ruled out</strong> accidentally, when we change the value of Left or Right. <strong>(It is critical to define the rule about how to move the range for search)</strong></li>
</ol>
<blockquote>
<p>Array has to be sorted.</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th>可用的循环条件</th>
<th>不可用的循环条件</th>
</tr>
</thead>
<tbody><tr>
<td>case1: right = mid - 1 <br/> case2: left = mid + 1</td>
<td>1. left &lt;= right 退出循环时一定是 empty <br/> 2. left &lt; right 退出循环时一定是一个元素或者 empty -&gt; 需要 postprocessing <br/>3. left + 1 &lt; right 退出循环时一定是两个元素或者一个元素，不可能是 empty</td>
<td></td>
</tr>
<tr>
<td>case1: right = mid - 1 <br/> case2: left = mid</td>
<td>left + 1 &lt; right 退出循环时一定是两个元素或者一个元素，不可能是 empty</td>
<td>1. left &lt;= right 因为 length = 1 或 2 时，会出死循环 <br/> 2. left &lt; right 因为 length = 2 时，会出死循环</td>
</tr>
<tr>
<td>case1: right = mid <br/> case2: left = mid + 1</td>
<td>1. left + 1 &lt; right 退出循环时一定是两个元素或者一个元素，不可能是 empty <br/> 2. left &lt; right 退出循环时一定是一个元素，不可能是 empty</td>
<td>left &lt;= right 因为 length = 1 时，会出死循环</td>
</tr>
<tr>
<td>case1: right = mid <br/> case2: left = mid</td>
<td>left + 1 &lt; right 退出循环时一定是两个元素或者一个元素，不可能是 empty</td>
<td>1. left &lt;= right 因为 length = 1 或 2 时，会出死循环 <br/> left &lt; right 因为 length = 2 时，会出死循环</td>
</tr>
</tbody></table>
<hr>
<h2 id="Recursion-Queue-amp-Stack"><a href="#Recursion-Queue-amp-Stack" class="headerlink" title="Recursion, Queue &amp; Stack"></a>Recursion, Queue &amp; Stack</h2><h3 id="Recursion-与计算的结合"><a href="#Recursion-与计算的结合" class="headerlink" title="Recursion 与计算的结合"></a>Recursion 与计算的结合</h3><ol>
<li>表象上：function calls itself</li>
<li>实质上：Boil down a big problem to smaller ones (size n depends on size n-1, or n-2 or … n/2)</li>
<li><strong>Implementation 上</strong>：<br>a. <strong>Base case</strong>: smallest problem to solve<br>b. <strong>Recursion rule</strong></li>
</ol>
<p><strong><font color=#3273DC>Example.1 Fibonacci Sequence</font></strong></p>
<p>f(n)<br>0 1 2 3 4 5 6 7 …<br>0 1 1 2 3 5 8 13 …</p>
<p>f(n)</p>
<ol>
<li> subproblem: f(n - 1), f(n - 2), f(n - 3), …, f(1), f(0)</li>
<li> recursion rule: f(n) = f(n - 1) + f(n - 2) = A + B</li>
<li> base case: f(0) = 0, f(1) = 1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (n == <span class="number">0</span> || n == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> n;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: (2<sup>n</sup> - 1) * T(node) = (2<sup>n</sup> - 1) * O(1) = O(2<sup>n</sup> - 1) = O(2<sup>n</sup>)</li>
<li>SC: n * S(node) = n * O(1) = O(n)</li>
</ul>
<p>levels: n<br>total number of nodes: 1 + 2 + 4 + … + 2<sup>n-1</sup> = 2<sup>n</sup> - 1</p>
<ol>
<li>number of branches = number of recursion calls = number of used subproblems</li>
<li>leaf nodes = base cases</li>
<li>one node = function call</li>
</ol>
<p><strong><font color=#3273DC>Example.2 Power</font></strong></p>
<p>a<sup>b</sup></p>
<p><strong>method 1: loop</strong></p>
<ul>
<li>TC: O(b)</li>
<li>SC: O(1)</li>
</ul>
<p><strong>method 2: recursion</strong><br>f(a, b)</p>
<ol>
<li> subproblem: f(a, b - 1), f(a, b - 2), … f(a, 0)</li>
<li> recursion rule: f(a, b) = f(a, b - 1) * a</li>
<li> base case: f(a, 0) = 1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">power</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> a * power(a, b - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(b)</li>
<li>SC: O(b)</li>
</ul>
<p><strong>method 3: recursion</strong><br>f(a, b)</p>
<ol>
<li> subproblem: f(a, b /2), f(a, b / 4), …, f(a, 0)</li>
<li>recursion rule:<br> a. b is even: f(a, b) = f(a, b / 2)<sup>2</sup><br> b. b is odd: f(a, n) = f(a, b / 2)<sup>2</sup> * a</li>
<li> base case: f(a, 0) = 1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">power</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (b % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> power(a, b / <span class="number">2</span>) * power(a, b / <span class="number">2</span>);</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> power(a, b / <span class="number">2</span>) * power(a, b / <span class="number">2</span>) * a;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: (1 + 2 + 4 + … + 2<sup>logb - 1</sup>) = (2<sup>logb</sup> - 1) * O(1) = (b - 1) * O(1) = O(b)</li>
<li>SC: logb * O(1) = O(logb)</li>
</ul>
<br/>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">power</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">long</span> half = power(a, b / <span class="number">2</span>);</span><br><span class="line">   <span class="keyword">if</span> (b % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> half * half;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> half * half * a;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: total number of nodes * T(node) = logb * O(1) = O(logb)</li>
<li>SC: logb * O(1) = O(logb)</li>
</ul>
<h3 id="Recursion-与-1D-or-2D-Array-的结合"><a href="#Recursion-与-1D-or-2D-Array-的结合" class="headerlink" title="Recursion 与 1D or 2D Array 的结合"></a>Recursion 与 1D or 2D Array 的结合</h3><p><strong><font color=#3273DC>Example.1. 1D Array</font></strong><br>二分法比较常见</p>
<ol>
<li>MergeSort</li>
<li>QuickSort</li>
</ol>
<p><strong><font color=#3273DC>Example.2.1 8 queen</font></strong><br><img src="/assets/algorithm/12.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2.2 How to print 2D Array in spiral order.</font></strong></p>
<!-- TODO: -->

<h3 id="Recursion-与-LinkedList-的结合"><a href="#Recursion-与-LinkedList-的结合" class="headerlink" title="Recursion 与 LinkedList 的结合"></a>Recursion 与 LinkedList 的结合</h3><p><strong><font color=#3273DC>Example.1 Reverse a linked list. (pair by pair)</font></strong><br><img src="/assets/algorithm/13.png"><br><img src="/assets/algorithm/14.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode <span class="title">reverseLinkedList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> head;</span><br><span class="line">   &#125;</span><br><span class="line">   ListNode next = head.next;</span><br><span class="line">   ListNode newHead = reverseLinkedList(head.next.next);</span><br><span class="line"></span><br><span class="line">   head.next = newHead;</span><br><span class="line">   next.next = head;</span><br><span class="line">   <span class="keyword">return</span> next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Reverse a binary tree upside down.</font></strong><br>Given a binary tree where all the right nodes are leaf nodes, flip it upside down and turn it into a tree left nodes. For example, turn these:<br><img src="/assets/algorithm/15.png"><br><img src="/assets/algorithm/16.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">reverseTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span> || root.left == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   TreeNode newRoot = reverseTree(root.left);</span><br><span class="line"></span><br><span class="line">   root.left.left = root.right;</span><br><span class="line">   root.left.right = root;</span><br><span class="line">   root.left = <span class="keyword">null</span>;</span><br><span class="line">   root.right = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">return</span> newRoot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Recursion-与-String-的结合"><a href="#Recursion-与-String-的结合" class="headerlink" title="Recursion 与 String 的结合"></a>Recursion 与 String 的结合</h3><h3 id="Recursion-与-Tree-的结合"><a href="#Recursion-与-Tree-的结合" class="headerlink" title="Recursion 与 Tree 的结合"></a>Recursion 与 Tree 的结合</h3><h4 id="Recursion-Tree-第一类问题：从下往上反值"><a href="#Recursion-Tree-第一类问题：从下往上反值" class="headerlink" title="Recursion + Tree 第一类问题：从下往上反值"></a>Recursion + Tree 第一类问题：从下往上反值</h4><p><strong><font color=#3273DC>Example.1 How to store how many nodes in each node’s left-subtree?</font></strong><br><strong><font color=#3273DC>Example.2 Find the node with the max difference in the total number of descendents in its left subtree and right subtree.</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxDiffNode</span><span class="params">(TreeNode root, <span class="keyword">int</span>[] globalMax, TreeNode[] solu)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span> leftTotal = maxDiffNode(root.left, globalMax, solu);</span><br><span class="line">   <span class="keyword">int</span> rightTotal = maxDiffNode(root.right, globalMax, solu);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (Math.abs(leftTotal - rightTotal) &gt; globalMax[<span class="number">0</span>]) &#123;</span><br><span class="line">      globalMax[<span class="number">0</span>] = Math.abs(leftTotal - rightTotal);</span><br><span class="line">      solu[<span class="number">0</span>] = root;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> leftTotal + rightTotal + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Lowest Common Ancestor</font></strong><br><img src="/assets/algorithm/17.png"><br><img src="/assets/algorithm/18.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">LCA</span><span class="params">(TreeNode root, TreeNode a, TreeNode b)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// base case</span></span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span> || root == a || root == b) &#123;</span><br><span class="line">      <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   TreeNode left = LCA(root.left, a, b);</span><br><span class="line">   TreeNode right = LCA(root.right, a, b);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (left != <span class="keyword">null</span> &amp;&amp; right != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> left == <span class="keyword">null</span> ? right : left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.4 Max Path Sum Binary Tree II (path from any node to any node)</font></strong><br>Given a binary tree in which each node contains an integer number. Find the maximum possible sum from any node to any node (the start node and the end node can be the same)<br><img src="/assets/algorithm/19.png"></p>
<ol>
<li><strong>What do you expect from your lchild / rchild?</strong> (usually it is the return type of the recursion funciton)<br>(1) left: 直上直下的 path<br>(2) right: 直上直下的 path</li>
<li><strong>What do you want to do in the current layer?</strong><br>sum of 人字形 path = left 的一撇 + right 的一捺 + root.value</li>
<li><strong>What do you want to report to your parent?</strong><br>root.value + Math.max(left, right)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(TreeNode root, <span class="keyword">int</span>[] max)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span> left = helper(root.left, max);</span><br><span class="line">   <span class="keyword">int</span> right = helper(root.right, max);</span><br><span class="line"></span><br><span class="line">   left = left &lt; <span class="number">0</span> ? <span class="number">0</span> : left;</span><br><span class="line">   right = right &lt; <span class="number">0</span> ? <span class="number">0</span> : right;</span><br><span class="line"></span><br><span class="line">   max[<span class="number">0</span>] = Math.max(root.key + left + right, max[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> root.key + Math.max(left, right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Recursion-Tree-第二类问题：Path-Problem-in-Binary-Tree"><a href="#Recursion-Tree-第二类问题：Path-Problem-in-Binary-Tree" class="headerlink" title="Recursion + Tree 第二类问题：Path Problem in Binary Tree"></a>Recursion + Tree 第二类问题：Path Problem in Binary Tree</h4><h4 id="Recursion-Tree-第三类问题：Tree-Serialization-Problem"><a href="#Recursion-Tree-第三类问题：Tree-Serialization-Problem" class="headerlink" title="Recursion + Tree 第三类问题：Tree Serialization Problem"></a>Recursion + Tree 第三类问题：Tree Serialization Problem</h4><p><strong>Serialization</strong></p>
<ul>
<li>pre</li>
<li>in</li>
<li>post</li>
<li>level</li>
</ul>
<h4 id="Recursion-Tree-第四类问题：Tree-De-serialization-Problem"><a href="#Recursion-Tree-第四类问题：Tree-De-serialization-Problem" class="headerlink" title="Recursion + Tree 第四类问题：Tree De-serialization Problem"></a>Recursion + Tree 第四类问题：Tree De-serialization Problem</h4><h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><p><strong>FIFO</strong> (first in first out) 先进先出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line"><span class="comment">// also could</span></span><br><span class="line">Queue&lt;Integer&gt; queue = <span class="keyword">new</span> ArrayDeque&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>

<p><strong>APIs:</strong></p>
<ul>
<li><code>offer()</code>: insert an element in the tail of queue</li>
<li><code>poll()</code>: get an element from the head of queue</li>
<li><code>peek()</code>: read the value of head element of queue</li>
<li><code>size()</code>: how many elements are in the queue</li>
<li><code>isEmpty()</code>: if this queue is empty</li>
</ul>
<h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h3><p><strong>LIFO</strong> (last in first out) 后进先出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Deque&lt;Integer&gt; stack = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line"><span class="comment">// also could</span></span><br><span class="line">Deque&lt;Integer&gt; stack = <span class="keyword">new</span> ArrayDeque&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>

<p><strong>APIs:</strong></p>
<ul>
<li><code>offerFirst()</code>: insert an element in the top of stack</li>
<li><code>pollFirst()</code>: get an element from the top of stack</li>
<li><code>peekFirst()</code>: read the value of top element stack</li>
<li><code>size()</code>: how many elements are in the stack</li>
<li><code>isEmpty()</code>: if this stack is empty or the size of this stack is 0</li>
</ul>
<h3 id="Deque"><a href="#Deque" class="headerlink" title="Deque"></a>Deque</h3><p><strong>FIFO &amp; LIFO</strong></p>
<p><strong>APIs:</strong></p>
<ul>
<li><code>offerFirst()</code> / <code>offerLast()</code></li>
<li><code>pollFirst()</code> / <code>pollLast()</code></li>
<li><code>peekFirst()</code> / <code>peekLast()</code></li>
</ul>
<h3 id="Queue-Stack-amp-Deque"><a href="#Queue-Stack-amp-Deque" class="headerlink" title="Queue, Stack &amp; Deque"></a>Queue, Stack &amp; Deque</h3><table>
<thead>
<tr>
<th>数据结构(逻辑层面)</th>
<th>内存里的存放方法</th>
<th>对应 java class</th>
<th align="center">对应 java interface</th>
</tr>
</thead>
<tbody><tr>
<td>queue (FIFO)</td>
<td>array / linked list</td>
<td>ArrayDeque / LinkedList</td>
<td align="center">Queue</td>
</tr>
<tr>
<td>stack (LIFO)</td>
<td>array / linked list</td>
<td>ArrayDeque / LinkedList</td>
<td align="center">Deque?</td>
</tr>
<tr>
<td>deque</td>
<td>array / linked list</td>
<td>ArrayDeque / LinkedList</td>
<td align="center">Deque</td>
</tr>
</tbody></table>
<p><strong>Queue</strong> and <strong>Deque</strong> are <strong>interfaces</strong></p>
<p><strong>Common APIs</strong></p>
<p><strong>Queue</strong></p>
<table>
<thead>
<tr>
<th>Type of operation</th>
<th>throw exception</th>
<th>return special value (null/false)</th>
</tr>
</thead>
<tbody><tr>
<td>insert</td>
<td><code>add()</code></td>
<td><code>offer()</code></td>
</tr>
<tr>
<td>remove</td>
<td><code>remove()</code></td>
<td><code>poll()</code></td>
</tr>
<tr>
<td>examine</td>
<td><code>element()</code></td>
<td><code>peek()</code></td>
</tr>
</tbody></table>
<ul>
<li><code>element()</code> is the method introduced by interface Queue, <code>add()</code> and <code>remove()</code> follows the definition of interface Collection</li>
<li><code>add()</code> and <code>offer()</code> return true when operation causes changes</li>
</ul>
<p><strong>Deque</strong></p>
<table>
   <tr>
      <th rowspan="2">Type of operation</th>
      <th colspan="2" align="center">First Element</th>
      <th colspan="2" align="center">Last Element</th>
   </tr>
   <tr>
      <th>throw exception</th>
      <th>return special value</th>
      <th>throw exception</th>
      <th>return special value</th>
   </tr>
   <tr>
      <td>insert</td>
      <td><code>addFirst()</code></td>
      <td><code>offerFirst()</code></td>
      <td><code>addLast()</code></td>
      <td><code>offerLast()</code></td>
   </tr>
   <tr>
      <td>remove</td>
      <td><code>removeFirst()</code></td>
      <td><code>pollFirst()</code></td>
      <td><code>removeLast()</code></td>
      <td><code>pollLast()</code></td>
   </tr>
   <tr>
      <td>examine</td>
      <td><code>getFirst()</code></td>
      <td><code>peekFirst()</code></td>
      <td><code>getLast()</code></td>
      <td><code>peekLast()</code></td>
   </tr>
</table>

<blockquote>
<p>All the operations’ cost is O(1)</p>
</blockquote>
<h3 id="Stack-by-Linked-List"><a href="#Stack-by-Linked-List" class="headerlink" title="Stack by Linked List"></a>Stack by Linked List</h3><p><strong>How to write an OOP?</strong></p>
<ol>
<li>根据 use case 设计 public API (包括 signature)</li>
<li>思考实现算法，写出 class field</li>
<li>实现 API，先实现最简单的，再实现比较复杂的</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ListNode head;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> length;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Stack</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ListNode node = head;</span><br><span class="line">      head = head.next;</span><br><span class="line">      length--;</span><br><span class="line"></span><br><span class="line">      res.next == <span class="keyword">null</span>; <span class="comment">// best practice</span></span><br><span class="line">      <span class="keyword">return</span> node.value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> head.value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">      ListNode newHead = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">      newHead.next = head;</span><br><span class="line">      head = newHead;</span><br><span class="line">      length++;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> length;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> length == <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Queue-by-Linked-List"><a href="#Queue-by-Linked-List" class="headerlink" title="Queue by Linked List"></a>Queue by Linked List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ListNode head;</span><br><span class="line">   <span class="keyword">private</span> ListNode tail;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> length;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Queue</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">poll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ListNode node = head;</span><br><span class="line">      head = head.next;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123; <span class="comment">// check</span></span><br><span class="line">         tail == <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      node.next == <span class="keyword">null</span>;</span><br><span class="line">      length--;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> node.value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> head.value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offer</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">         head = <span class="keyword">new</span> ListNode(ele);</span><br><span class="line">         tail = head;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         tail.next = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">         tail = tail.next;</span><br><span class="line">      &#125;</span><br><span class="line">      length++;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> length;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> length == <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Queue-by-Array"><a href="#Queue-by-Array" class="headerlink" title="Queue by Array"></a>Queue by Array</h3><p><strong>Circle Array (ring buffer):</strong> we can connect the start and end of the array, so that it is a cycle.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] arr;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> head;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> tail;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Queue</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">      arr = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>];</span><br><span class="line">      tail = <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offer</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (isFull()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      arr[tail] = element;</span><br><span class="line">      tail = (tail + <span class="number">1</span>) % arr.length;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> isEmpty() ? <span class="keyword">null</span> : arr[(head + <span class="number">1</span>) % arr.length];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">poll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> isEmpty() ? <span class="keyword">null</span> : arr[head = (head + <span class="number">1</span>) % arr.length];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> size = tail - head - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">return</span> size &lt; <span class="number">0</span> ? size + arr.length : size;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (head + <span class="number">1</span>) % arr.length == tail;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> head == tail;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Linked-List"><a href="#Linked-List" class="headerlink" title="Linked List"></a>Linked List</h2><p><code>ListNode Class</code> 的定义:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span> value; <span class="comment">// the storage value</span></span><br><span class="line">   <span class="keyword">public</span> ListNode next; <span class="comment">// it is reference, or, it is an address</span></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">ListNode</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.value = x;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ListNode1 -&gt; ListNode2 -&gt; ListNode3 -&gt; null</code></p>
<p><strong>key points:</strong></p>
<ol>
<li>When you want to access value/next of a ListNode, <strong>make sure it is not null pointer</strong>.</li>
<li>Never ever lose the control of the head pointer of the LinkedList.</li>
</ol>
<h3 id="Array-vs-LinkedList"><a href="#Array-vs-LinkedList" class="headerlink" title="Array vs. LinkedList"></a>Array vs. LinkedList</h3><ul>
<li>Memory Layout<ul>
<li>Array: consecutive allocated memory space, no overhead (额外开销)</li>
<li>Linked List: non-consecutive, overhead of multiple objects with the “next”</li>
</ul>
</li>
<li>(Random) access time</li>
</ul>
<p><strong><font color=#3273DC>Example.1 Given a linked list, find the index - k element of it.</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FindKth</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title">findKIndex</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (head == <span class="keyword">null</span> || k &lt; <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      ListNode cur = head;</span><br><span class="line">      <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (index != k &amp;&amp; cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">         cur = cur.next;</span><br><span class="line">         index++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> cur;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2 How to find the middle node of a linked list ?</font></strong></p>
<p>快慢指针法：slow 每次走一步，fast 每次走两步</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">findMidNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> head;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode slow = head;</span><br><span class="line">   ListNode fast = head;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span> (fast.next != <span class="keyword">null</span> &amp;&amp; fast.next.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">      slow = slow.next;</span><br><span class="line">      fast = fast.next.next;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> slow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Insert a node in a sorted linked list.</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">insert</span><span class="params">(ListNode head, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">   ListNode newNode = <span class="keyword">new</span> ListNode(value);</span><br><span class="line">   <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> newNode;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (head.value &gt;= value) &#123;</span><br><span class="line">      newNode.next = head;</span><br><span class="line">      <span class="keyword">return</span> newNode;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode cur = head;</span><br><span class="line">   <span class="keyword">while</span> (cur.next ！= <span class="keyword">null</span> &amp;&amp; cur.next.value &lt; value) &#123;</span><br><span class="line">      cur = cur.next;</span><br><span class="line">   &#125;</span><br><span class="line">   newNode.next = cur.next;</span><br><span class="line">   cur.next = newNode;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.4 How to merge two sorted LinkedList into one long sorted LinkedList ?</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">merge</span><span class="params">(ListNode head1, ListNode head2)</span> </span>&#123;</span><br><span class="line">   ListNode dummyHead = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">   ListNode cur1 = head1;</span><br><span class="line">   ListNode cur2 = head2;</span><br><span class="line">   ListNode curr = dummyHead;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span> (cur1 != <span class="keyword">null</span> &amp;&amp; cur2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (cur1.value &lt; cur2.value) &#123;</span><br><span class="line">         curr.next = cur1;</span><br><span class="line">         cur1 = cur1.next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         curr.next = cur2;</span><br><span class="line">         cur2 = cur2.next;</span><br><span class="line">      &#125;</span><br><span class="line">      curr = curr.next;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (cur1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">      curr.next = cur2;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (cur2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">      curr.next = cur1;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> dummyHead.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n)</li>
<li>SC: O(1)</li>
</ul>
<p><strong><font color=#3273DC>Example.5 Remove nodes with target value in the LinkedList.</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNodes</span><span class="params">(ListNode head, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">   ListNode dummyHead = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">   dummyHead.next = head;</span><br><span class="line">   ListNode pre = dummyHead;</span><br><span class="line">   ListNode cur = head;</span><br><span class="line">   <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (cur.value == target) &#123;</span><br><span class="line">         pre.next = cur.next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         pre = cur;</span><br><span class="line">      &#125;</span><br><span class="line">      cur = cur.next;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> dummyHead.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n)</li>
<li>SC: O(1)</li>
</ul>
<p><strong><font color=#3273DC>Example.6 Reverse a LinkedList.</font></strong></p>
<p><strong>method 1: iterative</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseIterative</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">   ListNode cur = head;</span><br><span class="line">   ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">      ListNode next = cur.next;</span><br><span class="line">      cur.next = pre;</span><br><span class="line">      pre = cur;</span><br><span class="line">      cur = next;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>method 2: recursion</strong></p>
<ul>
<li>subproblem: reverse(head) -&gt; reverse(head.next)</li>
<li>base case: only 1 node or 0 node</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseRecursion</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// base case</span></span><br><span class="line">   <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> head;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   ListNode newHead = reverseRecursion(head.next);</span><br><span class="line">   head.next.next = head;</span><br><span class="line">   head.next = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n)</li>
<li>SC: O(n)</li>
</ul>
<hr>
<h2 id="Sorting-Algorithms"><a href="#Sorting-Algorithms" class="headerlink" title="Sorting Algorithms"></a>Sorting Algorithms</h2><ul>
<li><strong>Selection sort</strong></li>
<li><strong>Merge sort</strong></li>
<li><strong>Quick sort</strong></li>
<li>Bubble sort</li>
<li>Bucket sort</li>
<li>Patient sort</li>
<li>Smooth sort</li>
<li>Cocktail sort</li>
<li>…</li>
</ul>
<h3 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="Selection Sort"></a>Selection Sort</h3><ul>
<li>sorted range: <code>[0, i)</code></li>
<li>unsorted range: <code>[i, length - 1]</code></li>
<li>stop condition: <code>i &lt; n - 1</code> (we don’t have to process the last element)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SelectionSort</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectionSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">         <span class="keyword">int</span> min = i;</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; arr.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[min]) &#123;</span><br><span class="line">               min = i;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         swap(arr, i, min);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> temp = arr[x];</span><br><span class="line">      arr[x] = arr[y];</span><br><span class="line">      arr[y] = temp;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n<sup>2</sup>)</li>
<li>SC: O(1)</li>
</ul>
<h3 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span>[] mergeSort(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">      <span class="comment">// corner case</span></span><br><span class="line">      <span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> arr;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> mergeSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] mergeSort(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> left, <span class="keyword">int</span> right) &#123;</span><br><span class="line">      <span class="comment">// base case</span></span><br><span class="line">      <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;arr[left]&#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// subproblem</span></span><br><span class="line">      <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">      <span class="keyword">int</span>[] leftRes = mergeSort(arr, left, mid);</span><br><span class="line">      <span class="keyword">int</span>[] rightRes = mergeSort(arr, mid + <span class="number">1</span>, right);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// recursion rule</span></span><br><span class="line">      <span class="keyword">return</span> merge(leftRes, rightRes);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] merge(<span class="keyword">int</span>[] leftRes, <span class="keyword">int</span>[] rightRes) &#123;</span><br><span class="line">      <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[leftRes.length + rightRes.length];</span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (i &lt; leftRes.length &amp;&amp; j &lt; rightRes.length) &#123;</span><br><span class="line">         <span class="keyword">if</span> (leftRes[i] &lt; rightRes[j]) &#123;</span><br><span class="line">            res[k] = leftRes[i++];</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res[k] = rightRes[j++];</span><br><span class="line">         &#125;</span><br><span class="line">         k++;</span><br><span class="line">         <span class="comment">// res[k++] = leftRes[i] &lt; rightRes[j] ? leftRes[i++] : rightRes[j++];</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// case1: left res has some mot merge, right res doesn&#x27;t</span></span><br><span class="line">      <span class="comment">// case2: right res has some mot merge, left res doesn&#x27;t</span></span><br><span class="line">      <span class="keyword">while</span> (i &lt; leftRes.length) &#123;</span><br><span class="line">         res[k++] = leftRes[i++];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">while</span> (j &lt; rightRes.length) &#123;</span><br><span class="line">         res[k++] = rightRes[j++];</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>subproblem: mergeSort(arr, left, mid), mergeSort(arr, mid + 1, right)</li>
<li>recursion rule: merge(left, right)</li>
<li>base case: left == right<br/></li>
<li>TC: O(n) + O(nlogn) = O(nlogn)</li>
<li>SC: stack + heap = O(logn) + O(n) = O(n)</li>
</ul>
<p><img src="/assets/algorithm/01.png"></p>
<h3 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> Random random = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// corner case</span></span><br><span class="line">      <span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      quickSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// base case</span></span><br><span class="line">      <span class="comment">// [a] -&gt; left = right</span></span><br><span class="line">      <span class="comment">// [] -&gt; left &gt; right (pivot is the first or the last element of the array)</span></span><br><span class="line">      <span class="keyword">if</span> (left &gt;= right) &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// step 1: choose pivot</span></span><br><span class="line">      <span class="comment">// random.nextInt(x) -&gt; a random integer in [0, x) -------</span></span><br><span class="line">      <span class="comment">// goal: a random number (pivot index) in [left, right]  |</span></span><br><span class="line">      <span class="comment">// [left, right] -&gt; left + [0, right - left]             |</span></span><br><span class="line">      <span class="comment">//               -&gt; left + [0, right - left + 1) &lt;--------</span></span><br><span class="line">      <span class="keyword">int</span> pivotIndex = left + random.nextInt(right - left + <span class="number">1</span>);</span><br><span class="line">      swap(arr, pivotIndex, right);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// step 2: partition</span></span><br><span class="line">      <span class="keyword">int</span> i = left;</span><br><span class="line">      <span class="keyword">int</span> j = right - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">while</span> (i &lt;= j) &#123;</span><br><span class="line">         <span class="keyword">if</span> (arr[i] &lt; arr[right]) &#123;</span><br><span class="line">            i++;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            swap(arr, j, i);</span><br><span class="line">            j--;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// step 3: put the pivot back</span></span><br><span class="line">      swap(arr, i, right);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// recursion rule</span></span><br><span class="line">      quickSort(arr, left, i - <span class="number">1</span>);</span><br><span class="line">      quickSort(arr, i + <span class="number">1</span>, right);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC:<ul>
<li>worst case: O(n<sup>2</sup>)<br><img src="/assets/algorithm/02.png"></li>
<li>average case: O(nlogn)<br><img src="/assets/algorithm/03.png"></li>
</ul>
</li>
<li>SC:<ul>
<li>worst case: O(n)</li>
<li>average case: O(logn)</li>
</ul>
</li>
</ul>
<h3 id="Rainbow-Sort"><a href="#Rainbow-Sort" class="headerlink" title="Rainbow Sort"></a>Rainbow Sort</h3><p>Dutch Flag Problem 荷兰旗问题 (only 3 kinds of numbers)<br><img src="/assets/algorithm/04.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RainbowSort</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rainbowSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// corner case</span></span><br><span class="line">      <span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = arr.length - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">while</span> (j &lt;= k) &#123;</span><br><span class="line">         <span class="keyword">if</span> (arr[j] == <span class="number">1</span>) &#123;</span><br><span class="line">            swap(arr, i, j);</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[j] == <span class="number">2</span>) &#123;</span><br><span class="line">            j++:</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            swap(arr, j, k);</span><br><span class="line">            k--;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n)</li>
<li>SC: O(1)</li>
</ul>
<hr>
<h2 id="Binary-Tree"><a href="#Binary-Tree" class="headerlink" title="Binary Tree"></a>Binary Tree</h2><p><u>at most two children node</u></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> value; <span class="comment">// the storage value</span></span><br><span class="line">   TreeNode left; <span class="comment">// by default = null</span></span><br><span class="line">   TreeNode right; <span class="comment">// by default = null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>LeafNode:</strong> both rigth and left are null</p>
<p><strong>Tree Traverse:</strong></p>
<ol>
<li>pre-order: current node before its subtress <strong>(self -&gt; left -&gt; right)</strong></li>
<li>in-order: current node in its subtrees <strong>(left -&gt; self -&gt; right)</strong></li>
<li>post-order: current node after its subtrees <strong>(left -&gt; right -&gt; self)</strong></li>
</ol>
<p><strong>Base Concept:</strong></p>
<ol>
<li><strong>Height of binary tree:</strong> The distance between the root with the deepest leaf node.</li>
<li><strong>Balanced binary tree:</strong> is commonly defined as a binary tree in which the depth (alse known as height) of the left and right subtrees of <strong>every node</strong> differ by 1 or less.<ol>
<li>for each of the nodes in this binary tree</li>
<li>satisfyL the height of lesf subtree, right subtree at most diff by 1.<blockquote>
<p><strong>If a tree has n number of nodes and it is balanced, the the heght (level of the tree = O(logn)).</strong></p>
</blockquote>
</li>
</ol>
</li>
<li><strong>Complete binary tree:</strong> is a binary tree in which every level, <em>except possibly the last</em>, is completely filled, and all nodes are as far left as possible.<blockquote>
<p><strong>If a tree is a complete tree, then it must be a balanced tree.</strong></p>
</blockquote>
</li>
<li><strong>Binary Search Tree:</strong> for every single node in the tree, the values in its left subtree are all smaller than its value, and the values in its right subtree are all larger than its value.<blockquote>
<p><strong>If we print the value of the nodes in BST in in-order sequence, then it must from an ascending order.</strong></p>
</blockquote>
</li>
</ol>
<br/>

<p><strong><font color=#3273DC>Example.1 Get the height of a binary tree.</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span> leftHeight = getHeight(root.left);</span><br><span class="line">   <span class="keyword">int</span> rightHeight = getHeight(root.right);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> Math.max(leftHeight, rightHeight) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2 How to determine whether a binary tree is a balanced binary tree ?</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (Math.abs(getHeight(root.left) - getHeight(root.right) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> isBalanced(root.left) &amp;&amp; isBalanced(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 How to determine whether a binary tree is symmetric ?</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode left, TreeNode right)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="keyword">null</span> || right == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left.value != right.value) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> isSymmetric(left.left, right.right) &amp;&amp; isSymmetric(right.left, left.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n)</li>
<li>SC: O(height)</li>
</ul>
<p><strong><font color=#3273DC>Example.4 LCA</font></strong><br>Given two nodes in a binary tree (with parent pointer available), find their lowest common ancestor.</p>
<ul>
<li>There is parent pointer for the nodes in the binary tree</li>
<li>The given two nodes <strong>are not guaranteed to be</strong> in the binary tree</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> TreeNode <span class="title">findLCA</span><span class="params">(TreeNode one, TreeNode two)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (one == <span class="keyword">null</span> || two == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> depth1 = getDepth(one), depth2 = getDepth(two);</span><br><span class="line">      <span class="keyword">if</span> (depth1 &gt; depth2) &#123;</span><br><span class="line">         <span class="keyword">return</span> findLCA(one, two, depth1 - depth2);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> findLCA(two, one, depth2 - depth1);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getDepth</span><span class="params">(TreeNode node)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> depth = -<span class="number">1</span>;</span><br><span class="line">      <span class="keyword">while</span> (node != <span class="keyword">null</span>) &#123;</span><br><span class="line">         depth++;</span><br><span class="line">         node = node.parent;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> depth;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> TreeNode <span class="title">findLCA</span><span class="params">(TreeNode longer, TreeNode shorter, <span class="keyword">int</span> diff)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">while</span> (diff &gt; <span class="number">0</span>) &#123;</span><br><span class="line">         longer = longer.parent;</span><br><span class="line">         diff--;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (longer != shorter) &#123;</span><br><span class="line">         longer = longer.parent;</span><br><span class="line">         shorter = shorter.parent;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> longer;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Binary-Search-Tree-BST"><a href="#Binary-Search-Tree-BST" class="headerlink" title="Binary Search Tree (BST)"></a>Binary Search Tree (BST)</h2><p>For every single node in the tree, the values in its left subtree are all smaller than its value, and the values in its right subtree are all larger than its value.</p>
<ul>
<li>search() - O(h), worst case O(n), best O(logn)</li>
<li>insert() - O(h), worst case O(n), best O(logn)</li>
<li>remove() - O(h), worst case O(n), best O(logn)</li>
</ul>
<p><strong><font color=#3273DC>Example.1 Search in BST.</font></strong></p>
<p><strong>method 1: iteration</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">search</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">   TreeNode cur = root;</span><br><span class="line">   <span class="keyword">while</span> (cur != <span class="keyword">null</span> &amp;&amp; cur.value != targer) &#123;</span><br><span class="line">      <span class="keyword">if</span> (target &lt; cur.value) &#123;</span><br><span class="line">         cur = root.left;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; cur.value) &#123;</span><br><span class="line">         cur = root.right;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(h)</li>
<li>SC: O(1)</li>
</ul>
<p><strong>method 2: recursion</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tail recursion</span></span><br><span class="line"><span class="function">TreeNode <span class="title">search</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span> || root.value == target) &#123;</span><br><span class="line">      <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (target &lt; root.value) &#123;</span><br><span class="line">      <span class="keyword">return</span> search(root.left, target);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> search(root.right, target);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(h)</li>
</ul>
<p><strong><font color=#3273DC>Example.2 Insert in BST.</font></strong></p>
<p><strong>method 1: iteration</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">insert</span><span class="params">(TreeNode root, <span class="keyword">int</span> targer)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(targer);</span><br><span class="line">   &#125;</span><br><span class="line">   TreeNode cur = root;</span><br><span class="line">   TreeNode pre = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (target &lt; cur.value) &#123;</span><br><span class="line">         <span class="keyword">if</span> (cur.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            cur = cur.left;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.left = <span class="keyword">new</span> TreeNode(target);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">if</span> (cur.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            cur = cur.right;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.right = <span class="keyword">new</span> TreeNode(target);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>method 2: recursion</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode <span class="title">insert</span><span class="params">(TreeNode root, <span class="keyword">int</span> targer)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(target);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (target &lt; root.value) &#123;</span><br><span class="line">      root.left = insert(root.left, target);</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; root.value) &#123;</span><br><span class="line">      root.right = insert(root.right, target);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Delete in BST.</font></strong></p>
<ul>
<li>case 1: The node to be deleted has no child</li>
<li>case 2: The node to be deleted has no left child</li>
<li>case 3: The node to be deleted has no right child</li>
<li>case 4: The node to be deleted has both left and right child. We need to move some nodes from left / right subtree to replace it.<ul>
<li>case 4.1: node.right does not have left child, meaning itself is the smallest node in this case, we just move node.right up</li>
<li>case 4.2: node.right has left child, we need to find the smallest node, and move it up</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> TreeNode <span class="title">delete</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// find target node</span></span><br><span class="line">      <span class="keyword">if</span> (root.value &gt; target) &#123;</span><br><span class="line">         root.left = delete(root.left, target);</span><br><span class="line">         <span class="keyword">return</span> root;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         root.right = delete(root.right, target);</span><br><span class="line">         <span class="keyword">return</span> root;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//guarantee root != null &amp;&amp; troot.value == target</span></span><br><span class="line">      <span class="keyword">if</span> (root.left == <span class="keyword">null</span>) &#123; <span class="comment">// case 1&amp;2</span></span><br><span class="line">         <span class="keyword">return</span> root.right;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right == <span class="keyword">null</span>) &#123; <span class="comment">// case 3</span></span><br><span class="line">         <span class="keyword">return</span> root.left;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//guarantee root.left != null &amp;&amp; rot.right != null</span></span><br><span class="line">      <span class="comment">//case 4.1</span></span><br><span class="line">      <span class="keyword">if</span> (root.right.left == <span class="keyword">null</span>) &#123;</span><br><span class="line">         root.right.left = root.left;</span><br><span class="line">         <span class="keyword">return</span> root.left;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//case 4.2</span></span><br><span class="line">      <span class="comment">// 1. find and delete smallest node in root right</span></span><br><span class="line">      TreeNode smallest = deleteSmallest(root.right);</span><br><span class="line">      <span class="comment">// connect the smallest node with root.left and root.right</span></span><br><span class="line">      smallest.left = root.left;</span><br><span class="line">      smallest.right = root.right;</span><br><span class="line">      <span class="comment">// return the smallest node</span></span><br><span class="line">      <span class="keyword">return</span> smallest;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> TreeNode <span class="title">deleteSmallest</span><span class="params">(TreeNode cur)</span> </span>&#123;</span><br><span class="line">      TreeNode prev = cur;</span><br><span class="line">      cur = cur.left;</span><br><span class="line">      <span class="keyword">while</span> (cur.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">         prev = cur;</span><br><span class="line">         cur = cur.left;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// cur is the smallest one, and prev is its parent</span></span><br><span class="line">      <span class="comment">// Invariance: cur (prev.left) does not have left child</span></span><br><span class="line">      prev.left = prev.left.right; <span class="comment">// cur.right</span></span><br><span class="line">      <span class="keyword">return</span> cur;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(h) find(upper part of height) + findSmallest(lower part of height)</li>
<li>SC: O(h) on call stack</li>
</ul>
<hr>
<h2 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h2><h3 id="General-Tree"><a href="#General-Tree" class="headerlink" title="General Tree"></a>General Tree</h3><p>Each node can have an arbitrary number of children</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> key;</span><br><span class="line">   List&lt;TreeNode&gt; children;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.key = key;</span><br><span class="line">      children = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We use the <code>root</code> to represent the general tree.</p>
<blockquote>
<p>G = V + E</p>
</blockquote>
<h3 id="Graph-1"><a href="#Graph-1" class="headerlink" title="Graph"></a>Graph</h3><p>Tree is a special kind of <strong>Graph</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GraphNode</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> key;</span><br><span class="line">   List&lt;GraphNode&gt; neighbors;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">GraphNode</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.key = key;</span><br><span class="line">      neighbors = <span class="keyword">new</span> ArrayList&lt;GraphNode&gt;();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We use the <code>List&lt;GraphNode&gt;</code> to represent the general tree.</p>
<hr>
<h2 id="Heap-amp-Graph-Search-Algorithms"><a href="#Heap-amp-Graph-Search-Algorithms" class="headerlink" title="Heap &amp; Graph Search Algorithms"></a>Heap &amp; Graph Search Algorithms</h2><h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h3><p><strong>堆</strong>，亦被称为<strong>优先队列</strong></p>
<p><strong>用途：</strong> 维护一个<strong>变化</strong>的数据集的<strong>最优值</strong></p>
<p><strong>性质：</strong> 堆的数显通过构造二叉堆 (binary heap)， 这种数据结构具有以下性质</p>
<ol>
<li>堆总是一颗<strong>完全二叉树 (complete binary tree)</strong></li>
<li>根节点最小的堆叫做<strong>MIN HEAP</strong>，根节点最大的堆叫做<strong>MAX HEAP</strong><ul>
<li>MIN HEAP: 任意节点<strong>小于(等于)</strong> 它的所有后裔 (descendent) (堆序性)</li>
<li>MAX HEAP: 任意节点<strong>大于(等于)</strong> 它的所有后裔 (descendent) (堆序性)</li>
</ul>
</li>
</ol>
<p><strong>Index of <code>parent = i</code>, what is the index of the two child nodes?</strong></p>
<ul>
<li>left child of index <code>i = 2 * i + 1</code></li>
<li>right child of index <code>i = 2 * i + 2</code></li>
<li>parent of index <code>i = (i - 1) / 2</code></li>
</ul>
<p><strong>Operations:</strong></p>
<ol>
<li><strong>insert:</strong> 向堆中插入一个新元素；TC: O(logn)</li>
<li><strong>update:</strong> 将新元素提升使其符合堆的性质；TS: O(logn)</li>
<li><strong>get / top:</strong> 获取当前堆顶元素的值；TC: O(1)</li>
<li><strong>pop:</strong> 删除堆顶元素；TC: O(logn)</li>
<li><strong>heapify:</strong> 使得一个 unsorted array 变成一个堆；TC:O(n)</li>
</ol>
<p><strong><font color=#3273DC>Example. Find smallest k elements from an unsorted array of size n.</font></strong></p>
<p><strong>method 1: sort</strong></p>
<ul>
<li>TC: O(nlogn)</li>
</ul>
<p><strong>method 2: min heap</strong></p>
<ol>
<li>Heapify all elements -&gt; O(n)</li>
<li>Call <code>pop()</code> k times to get the k smallest elements -&gt; O(klogn)</li>
</ol>
<ul>
<li>TC: O(n + klong)</li>
</ul>
<p><strong>method 3: max heap</strong></p>
<ol>
<li>Heapify the first k elements to form a MAX HEAP of <code>size = k</code> -&gt; O(k)<br>Alternatively, call <code>insert()</code> k times instead of heapify -&gt; O(klogk)</li>
<li>Iterate over the reaining (n - k) elements one by one.<br>When we tracerse a new element:<br>compare with the <strong>largest</strong> element of the previous smallest k candidates<ol>
<li>case 1: new element &gt;= top: <strong>ignore</strong></li>
<li>case 2: new element &lt; top: <strong>update (top -&gt; new element)</strong><br>O((n - k)logk)</li>
</ol>
</li>
</ol>
<ul>
<li>TC: O(k + (n - k)logk)</li>
</ul>
<h3 id="Breadth-First-Search-BFS-1"><a href="#Breadth-First-Search-BFS-1" class="headerlink" title="Breadth-First Search (BFS-1)"></a>Breadth-First Search (BFS-1)</h3><p><strong>BFS 的操作过程 &amp; How to describe a BFS’s action during an interview?</strong></p>
<ul>
<li><strong><font color=red>Data Structure:</font></strong> Maintain a <strong>FIFO queue</strong>, put all traversed nodes that haven’t been expanded.</li>
<li><strong>Initial state</strong></li>
<li><strong>Expand</strong> a node</li>
<li><strong>Generate</strong> s’s neighbor nodes: reach out to its neighboring nodes</li>
<li><strong>termination condition:</strong> do a loop until the queue is empty</li>
<li>Optionally <strong>deduplicate</strong> visited nodes (typically for graph not for tree)</li>
</ul>
<h3 id="Best-First-Search-BFS-2"><a href="#Best-First-Search-BFS-2" class="headerlink" title="Best First Search (BFS-2)"></a>Best First Search (BFS-2)</h3><ol>
<li><strong>Usages:</strong> Find the <strong>shortest path cost</strong> from a single node (source node) to <font color=red>any other nodes in that graph</font> (点道面(==所有点)的最短距离算法)</li>
<li><strong>Data Structure:</strong> <code>PriorityQueue</code> (minHeap)</li>
</ol>
<p><strong>解题思路</strong></p>
<ol>
<li>Initial state: (start node)</li>
<li>Node expansion / Generation rule</li>
<li>Termination condition: 所有点都计算完毕才停止 -&gt; PriorityQueue 为空</li>
</ol>
<h3 id="Heap-in-Java-PriorityQueue"><a href="#Heap-in-Java-PriorityQueue" class="headerlink" title="Heap in Java (PriorityQueue)"></a>Heap in Java (PriorityQueue)</h3><h4 id="PriorityQueue"><a href="#PriorityQueue" class="headerlink" title="PriorityQueue"></a>PriorityQueue</h4><p>It is a heap with same Queue interface with <code>offer(), peek(), poll()</code>.<br>But, it is not FIFO, when <code>poll()</code> or <code>peek()</code> we always look at the smallest / largest element (min heap / max heap).<br>Internally it is implemented using an array.</p>
<h4 id="概念区分"><a href="#概念区分" class="headerlink" title="概念区分"></a>概念区分</h4><table>
<thead>
<tr>
<th>数据结构 (逻辑层面)</th>
<th>内存里的存放方法</th>
<th>对应 java class</th>
<th>对应 java interface</th>
</tr>
</thead>
<tbody><tr>
<td>queue (FIFO)</td>
<td>array / linked list</td>
<td>ArrayDeque / LinkedList</td>
<td>Queue</td>
</tr>
<tr>
<td>stack (LIFO)</td>
<td>array / linked list</td>
<td>ArrayDeque / LinkedList</td>
<td>Deque</td>
</tr>
<tr>
<td>deque (double-ended)</td>
<td>array / linked list</td>
<td>ArrayDeque / LinkedList</td>
<td>Deque</td>
</tr>
<tr>
<td>heap (tree like)</td>
<td>array (abstract tree)</td>
<td>PriorityQueue</td>
<td>Queue</td>
</tr>
</tbody></table>
<h4 id="Order"><a href="#Order" class="headerlink" title="Order"></a>Order</h4><p>The PriorityQueue need to know how to compare the elements and determine which one is smaller / larger.</p>
<ul>
<li><strong>The element type implementing Comparable interface</strong><br>The element’s class can implement <code>Comparable interface</code> and thus implement the required method <code>compareTo()</code>, PriorityQueue will use this method to compare any tow elements.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(E ele)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// part of the Integer class implementation...</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Integer</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.value = value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Integer another)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.value == another.value) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.value &lt; another.value ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Provide an extra Comparator object to compare the elements</strong><br>There is another interface <code>Compartor</code>, it is used to compare two elements with same type E.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(E o1, E o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cell</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span> row;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span> col;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Cell</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.row = row;</span><br><span class="line">      <span class="keyword">this</span>.col = col;</span><br><span class="line">      <span class="keyword">this</span>.value = value;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Cell</span>&gt; </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Cell c1, Cell c2)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (c1.value == c2.value) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> c1.value &lt; c2.value ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>MIN HEAP &amp; MAX HEAP</strong><br>There is a utility method <code>Collections.reverseOrder()</code>, it will return a comparator that <strong>reverses the natural order</strong>.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// min heap</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; minHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// max heap</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; maxHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());</span><br></pre></td></tr></table></figure>

<h4 id="Most-frequently-used-constructors-of-PriorityQueue"><a href="#Most-frequently-used-constructors-of-PriorityQueue" class="headerlink" title="Most frequently used constructors of PriorityQueue"></a>Most frequently used constructors of PriorityQueue</h4><ol>
<li><code>PriorityQueue&lt;Cell&gt; heap = new PriorityQueue&lt;Cell&gt;();</code><ul>
<li>initialize the internal array with default capacity(11)</li>
<li><strong>class <code>Cell</code> must implements <code>Comparable&lt;Cell&gt;</code></strong></li>
</ul>
</li>
<li><code>PriorityQueue&lt;Cell&gt; heap = new PriorityQueue&lt;Cell&gt;(16);</code><ul>
<li>initialize the internal array with specified capacity(16)</li>
<li><strong>class <code>Cell</code> must implements <code>Comparable&lt;Cell&gt;</code></strong></li>
</ul>
</li>
<li><code>PriorityQueue&lt;Cell&gt; heap = new PriorityQueue&lt;Cell&gt;(16, new MyComparator());</code><ul>
<li>initialize the internal array with specified capacity(16)</li>
<li><strong>class <code>MyComparator</code> must implements <code>Comparator&lt;Cell&gt;</code></strong></li>
</ul>
</li>
<li><code>PriorityQueue&lt;Cell&gt; heap = new PriorityQueue&lt;Cell&gt;(new MyComparator());</code><ul>
<li><strong>class <code>MyComparator</code> must implements <code>Comparator&lt;Cell&gt;</code></strong></li>
<li><strong>Java 8+</strong></li>
</ul>
</li>
</ol>
<h4 id="Nested-Classes"><a href="#Nested-Classes" class="headerlink" title="Nested Classes"></a>Nested Classes</h4><p>A class within another class:</p>
<ul>
<li>It is a way of logically grouping classes that are only used in one place</li>
<li>It increases encapsulation</li>
<li>It can lead to more readable and maintainable code</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span> </span>&#123;</span><br><span class="line">   <span class="comment">// Nested class</span></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Anonymous-inner-class-define-in-a-method-with-just-new-and-no-definition"><a href="#Anonymous-inner-class-define-in-a-method-with-just-new-and-no-definition" class="headerlink" title="Anonymous inner class (define in a method with just new and no definition)"></a>Anonymous inner class (define in a method with just new and no definition)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">   PriorityQueue&lt;Cell&gt; pQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="number">16</span>, <span class="keyword">new</span> Comparator&lt;Cell&gt;() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Cell c1, Cell c2)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">if</span> (c1.value == c2.value) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> c1.value &lt; c2.value ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>实现一个接口</li>
<li>定义一个类</li>
<li>创建一个 instance</li>
<li>call constructor</li>
</ol>
<p><strong>Similar to:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Cell</span>&gt; </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Cell c1, Cell c2)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (c1.value == c2.value) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> c1.value &lt; c2.value ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PriorityQueue&lt;Cell&gt; pQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="number">16</span>, <span class="keyword">new</span> MyComparator())</span><br></pre></td></tr></table></figure>

<p><strong>Lambda (Java 8)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PriorityQueue&lt;Cell&gt; pQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="number">16</span>,</span><br><span class="line">   (Cell c1, Cell c2) -&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (c1.value == c2.value) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> c1.value &lt; c2.value ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example. Smallest k elements in unsorted array.</font></strong><br>Find the K smassles numbers in an unsorted integer array A. The returned numbers should</p>
<p><strong>method 1: MIN HEAP</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findKSmallest(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k) &#123;</span><br><span class="line">   <span class="keyword">if</span> (k &gt; arr.length) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   PriorityQueue&lt;Integer&gt; minHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;();</span><br><span class="line">   <span class="comment">// TC: O(nlogn)</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> num: arr) &#123;</span><br><span class="line">      minHeap.offer(num);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">   <span class="comment">// TC: O(klogn)</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">      res[i] = minHeap.poll();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(nlogn) + O(klogn) = P(nlogn)</li>
</ul>
<p><strong>method 2: MAX HEAP</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findKSmallest(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k) &#123;</span><br><span class="line">   <span class="keyword">if</span> (k &gt; arr.length) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   PriorityQueue&lt;Integer&gt; maxHeap = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">      maxHeap.offer(arr[i]);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">      res[i] = minHeap.poll();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O((n + k)logk)</li>
</ul>
<h3 id="Implementing-Heaps"><a href="#Implementing-Heaps" class="headerlink" title="Implementing Heaps"></a>Implementing Heaps</h3><h4 id="Basic-Heap-Internal-Operations"><a href="#Basic-Heap-Internal-Operations" class="headerlink" title="Basic Heap Internal Operations"></a>Basic Heap Internal Operations</h4><h5 id="percolateUp"><a href="#percolateUp" class="headerlink" title="percolateUp()"></a><code>percolateUp()</code></h5><ul>
<li>When to use?<br>The element need to be moved up to maintain the heap’s property, for example, when offering a new element into the heap.</li>
<li>How?<br>Compare the element with its parent, move it up when necessary, do this until the element does not need to be moved.</li>
<li><strong>TC: O(logn)</strong></li>
</ul>
<h5 id="percolateDown"><a href="#percolateDown" class="headerlink" title="percolateDown()"></a><code>percolateDown()</code></h5><ul>
<li>When to use?<br>The element need to be moved down to maintain the heap’s property, for example, when poll the root element from the heap.</li>
<li>How?<br>Compare the element with its two children, if the smallest one of the two children is smaller than the element, swap the element with that child, do this until the element does not need to be moved.</li>
<li><strong>TC: O(logn)</strong></li>
</ul>
<h5 id="heapiyf"><a href="#heapiyf" class="headerlink" title="heapiyf()"></a><code>heapiyf()</code></h5><ul>
<li>Convert an array into a heap in <strong>O(n)</strong> time.</li>
<li>How?<br>For each node that has at least one child, we perform <code>percolateDown</code> action, in the order of from the nodes on the deepest level to the root.</li>
<li><strong>TC: O(n)</strong></li>
</ul>
<blockquote>
<p>原理： 当一个 node 左子树和右子树都是堆，对它本身做 <code>percolateDown</code>，会使得以它为 root 的整颗子树成为堆。</p>
</blockquote>
<p>The range of indices nees to perform <code>percolateDown</code> is: <strong>[0, n / 2 - 1]</strong><br><strong>Last non-leaf node: parent of last node <code>index = ((n - 1) - 1) / 2 = n / 2 - 1</code></strong></p>
<h5 id="update"><a href="#update" class="headerlink" title="update()"></a><code>update()</code></h5><ul>
<li>If you know the position of the element you want to update, it will take <strong>O(logn)</strong></li>
<li>How?<br>Either you need <code>percolateUp</code>, or <code>percolateDown</code> on that element</li>
<li>Waht if you do not know the position of the element?<br>You need to find the position of the element first, if not asking for help with other additional data structure, this operation is <strong>O(n)</strong></li>
</ul>
<h4 id="Implementation-of-Min-Heap"><a href="#Implementation-of-Min-Heap" class="headerlink" title="Implementation of Min Heap"></a>Implementation of Min Heap</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MinHeap</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] array;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MinHap</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;input array can not be null or empty&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.array = array;</span><br><span class="line">      size = array.length;</span><br><span class="line">      heapify();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = size / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">         percolateDown(i);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MinHeap</span><span class="params">(<span class="keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (cap &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;capacity can not be &lt;= 0&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      array = <span class="keyword">new</span> <span class="keyword">int</span>[cap];</span><br><span class="line">      size = <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> size == array.length;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">percolateUp</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">int</span> parent = (index - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">         <span class="keyword">if</span> (array[parent] &gt; array[index]) &#123;</span><br><span class="line">            swap(parent, index);</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         index = parent;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">percolateDown</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">while</span> (index &lt;= size / <span class="number">2</span> -<span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">int</span> left = index * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">         <span class="keyword">int</span> right = index * <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line">         <span class="keyword">int</span> toSwap = left;</span><br><span class="line">         <span class="keyword">if</span> (right &lt; size &amp;&amp; array[left] &gt;= array[right]) &#123;</span><br><span class="line">            toSwap = right;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> (array[index] &gt; array[toSwap]) &#123;</span><br><span class="line">            swap(index, toSwap);</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         index = toSwap;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> array[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">poll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">int</span> res = array[<span class="number">0</span>];</span><br><span class="line">      array[<span class="number">0</span>] = array[size - <span class="number">1</span>];</span><br><span class="line">      size--;</span><br><span class="line">      percolateDown(<span class="number">0</span>);</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">offer</span><span class="params">(<span class="keyword">int</span> ele)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (size == array.length) &#123;</span><br><span class="line">         array = Arrays.copyOf(array, (<span class="keyword">int</span>)(array.length * <span class="number">1.5</span>));</span><br><span class="line">      &#125;</span><br><span class="line">      array[size] = ele;</span><br><span class="line">      size++;</span><br><span class="line">      percolateUp(size - <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> ele)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (index &gt; array.length || index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException(<span class="string">&quot;Invalid index range&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">int</span> oldVal = array[index];</span><br><span class="line">      array[index] = ele;</span><br><span class="line">      ele &lt; oldVal ? percolateUp(index) : percolateDown(index);</span><br><span class="line">      <span class="keyword">return</span> oldVal;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> temp = array[l];</span><br><span class="line">      array[l] = array[r];</span><br><span class="line">      array[r] = temp;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Graph-Search-Algorithms-DFS-Depth-First-Search"><a href="#Graph-Search-Algorithms-DFS-Depth-First-Search" class="headerlink" title="Graph Search Algorithms - DFS(Depth-First Search)"></a>Graph Search Algorithms - DFS(Depth-First Search)</h3><p>DFS 基本方法：</p>
<ol>
<li>What does it store on each level?</li>
<li>How many different states should we try to put on this level?</li>
</ol>
<p><strong><font color=#3273DC>Example.1 Find subset.</font></strong><br>E.g. Print all subsets of a set Set = {‘a’, ‘b’, ‘c’}</p>
<ol>
<li><strong>What does it store on each level?</strong><br>Three levels. For each level, it makes the decision on whether to put this element into the final set.</li>
<li><strong>How many different states should we try to put on this level?</strong><br>Two different states, each state(case) considers either select or not select</li>
</ol>
<p><img src="/assets/algorithm/05.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findSubset</span><span class="params">(<span class="keyword">char</span>[] input, <span class="keyword">int</span> index, StringBuilder solutionPrefix)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (index == input.length) &#123;</span><br><span class="line">      System.out.println(solutionPrefix);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// case 1: add inut[index] to the solution prefix</span></span><br><span class="line">   solutionPrefix.append(input[index]);</span><br><span class="line">   finSubset(input, index + <span class="number">1</span>, solutionPrefix);</span><br><span class="line">   solutionPrefix.deleteCharAt(solutionPrefix.length() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// case 2: do not add input[index] to the solution prefix</span></span><br><span class="line">   findSubset(input, index + <span class="number">1</span>, solutionPrefix);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(2<sup>n</sup>)</li>
<li>SC: O(n) on heap + O(n) on call stack = O(n)</li>
</ul>
<p><strong><font color=#3273DC>Example.1.1 Insert empty space.</font></strong><br>We can choose to insert either one or zero empty space between each paire of adjacent letters. Please print out all possible results.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2 Find all valid permutation using the parenthesis provided.</font></strong></p>
<ol>
<li><strong>What does it store on each level?</strong><br>Six levels, each level considers one position (in which there will be onle one parenthesis added in this position).</li>
<li><strong>How many different states should we try to put on this level?</strong><br>Two states,either left or right parenthesis.</li>
</ol>
<p><img src="/assets/algorithm/06.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> l, <span class="keyword">int</span> r, StringBuilder solutionPrefix)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (l == n &amp;&amp; r == n) &#123;</span><br><span class="line">      System.out.println(solutionPrefix); <span class="comment">// base case</span></span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// case 1: add &#x27;(&#x27; on this level</span></span><br><span class="line">   <span class="keyword">if</span> (l &lt; n) &#123;</span><br><span class="line">      solutionPrefix.append(<span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">      DFS(n, l + <span class="number">1</span>, r, solutionPrefix);</span><br><span class="line">      solutionPrefix.deleteCharAt(solutionPrefix.length() - <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// case 2: add &#x27;(&#x27; on this level</span></span><br><span class="line">   <span class="keyword">if</span> (l &gt; r) &#123;</span><br><span class="line">      solutionPrefix.append(<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">      DFS(n, l, r + <span class="number">1</span>, solutionPrefix);</span><br><span class="line">      solutionPrefix.deleteCharAt(solutionPrefix.length() - <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(2<sup>2n</sup>)</li>
<li>SC: O(2n) = O(n)</li>
</ul>
<p><strong><font color=#3273DC>Example.3 Print all combinations of coins that can sum uo to total value n.</font></strong><br>E.g. total value n = 99 cents<br>coin value = 25 10 5 1 cent</p>
<ol>
<li><strong>What does it store on each level?</strong><br>Four levels, each level considers on type of coin</li>
<li><strong>How many different states should we try to put on this level?</strong><br>Dynamically changes</li>
</ol>
<p><img src="/assets/algorithm/07.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findCombination</span><span class="params">(<span class="keyword">int</span>[] coin, <span class="keyword">int</span> moneyLeft, <span class="keyword">int</span> index, <span class="keyword">int</span>[] sol)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (index == coin.length - <span class="number">1</span>) &#123;</span><br><span class="line">      sol[index] = moneyLeft;</span><br><span class="line">      <span class="comment">// print solution and return</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= moneyLeft / coin[index]; i++) &#123;</span><br><span class="line">      sol[index] = i;</span><br><span class="line">      findCombination(coin, moneyLeft - i * coin[index], index + <span class="number">1</span>, sol);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(k<sup>n</sup>)</li>
</ul>
<p><strong><font color=#3273DC>Example.4 Given a string with no duplicate letters, how to print out all permutations of the string.</font></strong></p>
<ol>
<li><strong>What does it store on each level?</strong><br>Three levels, each level represents on position</li>
<li><strong>How many different states should we try to put on this level?</strong><br>Rmaining unused letter</li>
</ol>
<p><img src="/assets/algorithm/20.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">permutation</span><span class="params">(<span class="keyword">char</span>[] input, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (index == input.length) &#123;</span><br><span class="line">      System.out.println(input);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// put each letter in the index-th position of the input str</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; input.length; i++) &#123;</span><br><span class="line">      swap(input, index, i);</span><br><span class="line">      permutation(input, index + <span class="number">1</span>);</span><br><span class="line">      swap(input, index, i);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n!)</li>
<li>SC: O(n)</li>
</ul>
<p><strong><font color=red>Conclusion:</font></strong> whenever every single permutation contains all elements in the initial input, the we should consider <strong>SWAP</strong> and <strong>SWAP</strong></p>
<hr>
<h2 id="Set-Map-amp-String"><a href="#Set-Map-amp-String" class="headerlink" title="Set, Map &amp; String"></a>Set, Map &amp; String</h2><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>A collection that <strong>can not contain duplicate elements</strong>.</p>
<ul>
<li><code>HashSet</code>: Which stores its elements in a <strong>hashtable</strong>, is the best-performing implementation, however it makes <strong>no guarantees concerning the order of iteration</strong>.</li>
<li><code>TreeSet</code>: Which stores it elements in a red-black tree (balanced binary search tree), orders its elements based on their value</li>
<li><code>LinkedHashSet</code>: It is a HashSet and also it is a LinkedList, it maintains the order when each of the elements is inserted into the HashSet</li>
</ul>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>A collection that maps keys to values. A <code>Map</code> cannot contain duplicate keys; each key can map to one value.</p>
<ul>
<li><code>HashMap</code></li>
<li><code>TreeMap</code></li>
<li><code>LinkedHashMap</code></li>
</ul>
<h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><h4 id="Common-API"><a href="#Common-API" class="headerlink" title="Common API"></a>Common API</h4><ul>
<li><code>V put(K key, V value)</code></li>
<li><code>V get(Object key)</code></li>
<li><code>V remove(Object key)</code></li>
<li><code>boolean containsKey(Object key)</code></li>
<li><code>boolean containsValue(Object value)</code></li>
<li><code>void clear()</code></li>
<li><code>int size()</code></li>
<li><code>boolean isEmpty()</code></li>
</ul>
<p><strong>Time Complexity</strong></p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Average</th>
<th>Worst (&lt;= JDK 7)</th>
</tr>
</thead>
<tbody><tr>
<td>search: <br/> <code>boolean containsKey(Object key)</code> <br/> <code>V get(Object key)</code></td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>insert / update: <br/> <code>V put(K key, V value)</code></td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>delete: <br/> <code>V remove(Object key)</code> <br/> <code>V get(Object key)</code></td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
</tbody></table>
<h4 id="HashMap-Implementation"><a href="#HashMap-Implementation" class="headerlink" title="HashMap Implementation"></a>HashMap Implementation</h4><ol>
<li><p>define the class for each entry</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">final</span> K key;</span><br><span class="line">   <span class="keyword">private</span> V value;</span><br><span class="line">   Node&lt;K, V&gt; next;</span><br><span class="line">   Node(K key, V value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.key = key;</span><br><span class="line">      <span class="keyword">this</span>.value = value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> K <span class="title">getKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> key;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> V <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(V value)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.value = value;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Maintain an array of entries<br><code>Node&lt;K, V&gt;[] array;</code></p>
</li>
<li><p>Hash(key) to get the hash#</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(K key)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// return the hash# of the key</span></span><br><span class="line">   <span class="keyword">if</span> (key == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">int</span> hashNumber = key.hashCode();</span><br><span class="line">   <span class="keyword">return</span> hashNumber &amp; <span class="number">0x7FFFFFFF</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>From the hash#, mapped to the entry index.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">int</span> hashNumber)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// reutrn the corresponding index of array</span></span><br><span class="line">   <span class="keyword">return</span> hashNumber % array.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>When iterate the corresponding entry for the given key, which is actually a singly linked list, we need compare each of the entry in the list, if <strong>the key is the same</strong> as the key we want.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Node&lt;k, V&gt; cur = array[index];</span><br><span class="line"><span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">   K curKey = cur.getKey();</span><br><span class="line">   <span class="keyword">if</span> (curKey is the same as given key) &#123;</span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>Implementation:</strong></p>
<ul>
<li>APIs: <code>put</code>, <code>get</code>, <code>remove</code>, <code>size</code>, <code>isEmpty</code></li>
<li>Fields: array[], size</li>
<li>Constructor: capacity, load factor (threshold), no parameter</li>
</ul>
<p>TODO:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">   <span class="keyword">private</span> Node[] buckets;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">double</span> loadFactor;</span><br><span class="line"></span><br><span class="line">   HashMap() &#123;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p><strong><font color=#3273DC>Example.1 Remove a/some particular chars from a string in place</font></strong><br>E.g. string input = “student”, remove “u” and “n” -&gt; output: “stdet” (in place)</p>
<p>快慢指针，同向而行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">removeChar</span><span class="params">(StringBuilder input)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> slow = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> fast = <span class="number">0</span>; fast &lt; input.length; fast++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (input.charAt(fast) != <span class="string">&#x27;u&#x27;</span> &amp;&amp; input.charAt(fast) != <span class="string">&#x27;n&#x27;</span>) &#123;</span><br><span class="line">         input.setCharAt(slow, input.charAt(fast));</span><br><span class="line">         slow++;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   input.delete(slow, input.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2 Remove all leading/trailing and duplicate empty spaces (only leave onw empty space if duplicated spaces happen) from the input string. (must in place)</font></strong><br>E.g. input = “___abc_de___“ -&gt; output = “abc_de”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2.1 Remove duplicated and adjacent letters (leave only one letter in each duplicated section) in a string</font></strong><br>E.g. input = “aabbbbazw” -&gt; output = “abazw”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2.2 Char de-duplication adjacent letters repeatedly</font></strong><br>E.g. input = “abbbazw” -&gt; output = “zw”</p>
<p><strong>method 1: Stack</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>method 2: slow &amp; fast</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Sub-string Finding</font></strong><br>How to determine whether a string is a substring of another string.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subStr</span><span class="params">(String text, String pattern)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (text == <span class="keyword">null</span> || pattern == <span class="keyword">null</span> || text.length() &lt; pattern.length()) &#123;</span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (pattern.length() == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// i is every possible start index in text to test</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= text.length() - pattern.length(); i++) &#123;</span><br><span class="line">      <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> (j &lt; pattern.length() &amp;&amp; text.charAt(i + j) == pattern.charAt(j)) &#123;</span><br><span class="line">         j++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (j == pattern.length()) &#123;</span><br><span class="line">         <span class="keyword">return</span> i;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(n<sup>2</sup>)</li>
</ul>
<p><strong><font color=#3273DC>Example.4 String Reversal</font></strong><br><strong>M1: iteration</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>M2: recursion</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.4.1 Reverse the word.</font></strong><br>E.g. input = “I love yahoo” -&gt; output = “yahpp love I”</p>
<p><strong>M1</strong><br>step1: Reverse the whole sentence.<br>step2: Reverse every single word.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example5.Char Replacement</font></strong><br>E.g. input = “student” -&gt; output = “stu<strong>xx</strong>t” (den -&gt; xx)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>What if we do not know the size relationship between s1 and s2?<br>case 1: <code>s1.length() &gt;= s2.length()</code><br>case 2: <code>s1.length() &lt; s2.length()</code></p>
<h4 id="Advanced-Topics"><a href="#Advanced-Topics" class="headerlink" title="Advanced Topics"></a>Advanced Topics</h4><ol>
<li>Shuffling</li>
<li>permutation</li>
<li>Decoding/encoding</li>
<li>Sliding windows using slow/fast pointers</li>
</ol>
<h5 id="String-Shuffling"><a href="#String-Shuffling" class="headerlink" title="String Shuffling"></a>String Shuffling</h5><p><strong><font color=#3273DC>Example.1 “A1B2C3D4E5” -&gt; “ABCDE12345”</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2 “ABCDE12345” -&gt; “A1B2C3D4E5”</font></strong></p>
<p><strong><font color=#3273DC>Example.3 “ABCDEFG1234567” -&gt; “ABC123DEFG4567”</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convert</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// base case</span></span><br><span class="line">   <span class="keyword">if</span> (rigth - left &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">int</span> size = right - left + <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">int</span> mid = left + size / <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">int</span> leftMid = left + size / <span class="number">4</span>;</span><br><span class="line">   <span class="keyword">int</span> rightMid = left + size * <span class="number">3</span> / <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">   reverse(a, leftMid, mid - <span class="number">1</span>);</span><br><span class="line">   reverse(a, mid, rightMid - <span class="number">1</span>);</span><br><span class="line">   reverse(a, leftMid, rightMid - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">   convert(a, left, left + <span class="number">2</span> * (leftMid - left) - <span class="number">1</span>);</span><br><span class="line">   convert(a, left + <span class="number">2</span> * (leftMid - left), right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="String-permutation"><a href="#String-permutation" class="headerlink" title="String permutation"></a>String permutation</h5><p><strong><font color=#3273DC>Example.1 No duplicate letters in the input string.</font></strong><br><strong>Solution:</strong> DFS</p>
<p><strong><font color=#3273DC>Example.2 Maybe duplicate letters in the input string.</font></strong><br>We need to avoid the same type of letter to be swapped to the index-th position more than once (under the same parent node)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="String-En-Decoding"><a href="#String-En-Decoding" class="headerlink" title="String En/Decoding"></a>String En/Decoding</h5><p><strong><font color=#3273DC>Example.1 String Encoding</font></strong><br>E.g. input = “aaaabccaaaa5” -&gt; output = “a4b1c2a5”</p>
<p><strong>step 1:</strong> From left to right, deal with the cases where the adjacent occurrence of the letters &gt;= 2, which will make the original string shorter, in the meantime record the count of single letters and keep it as it was.<br><strong>step 2:</strong> Calculate extra space we need for single letters, resize string.<br><strong>step 3:</strong> From right to left, deal with single letters.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">strEncoding</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (str == <span class="keyword">null</span> || str.isEmpty()) &#123;</span><br><span class="line">         <span class="keyword">return</span> str;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">char</span>[] arr = str.toCharArray();</span><br><span class="line">      <span class="keyword">return</span> encoding(arr);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">encoding</span><span class="params">(<span class="keyword">char</span>[] input)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// step1 &amp; step2</span></span><br><span class="line">      <span class="keyword">int</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">int</span> newLength = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> (fast &lt; input.length) &#123;</span><br><span class="line">         <span class="keyword">int</span> begin = fast;</span><br><span class="line">         <span class="keyword">while</span> (fast &lt; input.length &amp;&amp; input[fast] == input[begin]) &#123;</span><br><span class="line">            fast++;</span><br><span class="line">         &#125;</span><br><span class="line">         input[slow++] = input[begin];</span><br><span class="line">         <span class="keyword">if</span> (fast - begin == <span class="number">1</span>) &#123;</span><br><span class="line">            newLength += <span class="number">2</span>;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> len = copyDigits(input, slow, fast - begin);</span><br><span class="line">            slow += len;</span><br><span class="line">            newLength += len + <span class="number">1</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// step 3</span></span><br><span class="line">      <span class="keyword">char</span>[] res = <span class="keyword">new</span> <span class="keyword">char</span>[newLength];</span><br><span class="line">      fast = slow - <span class="number">1</span>;</span><br><span class="line">      slow = newLength - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">while</span> (fast &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">if</span> (Character.isDigit(input[fast])) &#123;</span><br><span class="line">            <span class="keyword">while</span> (fast &gt;= <span class="number">0</span> &amp;&amp; Character.isDigit(input[fast])) &#123;</span><br><span class="line">               res[slow--] = input[fast--];</span><br><span class="line">            &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res[slow--] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         res[slow--] = input[fast--];</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> String(res);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">copyDigits</span><span class="params">(<span class="keyword">char</span>[] input, <span class="keyword">int</span> index, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> (<span class="keyword">int</span> i = count; i &gt; <span class="number">0</span>; i /= <span class="number">10</span>) &#123;</span><br><span class="line">         index++;</span><br><span class="line">         len++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">while</span> (<span class="keyword">int</span> i = count; i &gt; <span class="number">0</span>; i /= <span class="number">10</span>) &#123;</span><br><span class="line">         <span class="keyword">int</span> digit = i % <span class="number">10</span>;</span><br><span class="line">         input[--index] = digit;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> len;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Sliding-window-in-a-string-slow-fast-indices"><a href="#Sliding-window-in-a-string-slow-fast-indices" class="headerlink" title="Sliding window in a string (slow + fast indices)"></a>Sliding window in a string (slow + fast indices)</h5><p><strong><font color=#3273DC>Example.1 Longest substring that contains only unique char</font></strong><br>Given a string , returns the length of the longest <strong><font color=red>substring</font></strong> <strong>without</strong> duplicate characters.</p>
<!-- TODO: -->

<p><strong><font color=#3273DC>Example.2 Find all anagrams(同形异构体) of a substring S2 in a long string S1.</font></strong></p>
<p><strong>M1: use two hashMap</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>M2: use one hashMap</strong><br>We only use one hashMap t store the information of S2.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Givena 0-1 array, you can flip at most k ‘0’s to ‘1’s. Find the longest subarray that consists of all ‘1’s.</font></strong><br>It’s actually a sliding window problem.</p>
<hr>
<h2 id="Bit-Representation-amp-Bit-Operations"><a href="#Bit-Representation-amp-Bit-Operations" class="headerlink" title="Bit Representation &amp; Bit Operations"></a>Bit Representation &amp; Bit Operations</h2><h3 id="Bit-Operations-TC-O-1"><a href="#Bit-Operations-TC-O-1" class="headerlink" title="Bit Operations (TC: O(1))"></a>Bit Operations (TC: O(1))</h3><ul>
<li><p>bitwise AND (&amp;)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">0b11001110</span> (-<span class="number">50</span>)</span><br><span class="line">&amp;  <span class="number">0b10011000</span> (-<span class="number">104</span>)</span><br><span class="line">=  <span class="number">0b10001000</span> (-<span class="number">120</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span> a = -<span class="number">50</span>;</span><br><span class="line"><span class="keyword">byte</span> b = -<span class="number">104</span>;</span><br><span class="line"><span class="keyword">byte</span> c = a &amp; b; <span class="comment">// c = -120</span></span><br></pre></td></tr></table></figure></li>
<li><p>bitwise OR (|)</p>
</li>
<li><p>NOT (~)</p>
<ul>
<li>a = 5 = 0b00000101</li>
<li>b = ~a = 0b11111010</li>
<li>-a = (~a) + 1, if a &gt;= 0</li>
</ul>
</li>
<li><p>XOR (^)</p>
<ul>
<li>00 -&gt; 0</li>
<li>11 -&gt; 0</li>
<li>01 or 10 -&gt; 1</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">0b11001110</span> (-<span class="number">50</span>)</span><br><span class="line">^  <span class="number">0b10011000</span> (-<span class="number">104</span>)</span><br><span class="line">=  <span class="number">0b01010110</span> (<span class="number">86</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>x ^ y = y ^ x</code></li>
<li><code>x ^ (y ^ z) = (x ^ y) ^ z</code></li>
<li><code>x ^ x = 0</code></li>
<li><code>x ^ 0 = x</code></li>
</ul>
</li>
<li><p>left shift (&lt;&lt;) <strong>右侧补充零</strong></p>
</li>
<li><p>right shift (&gt;&gt;) <strong>正数左侧补充零，负数左侧补充 1</strong></p>
</li>
</ul>
<h3 id="Building-Blocks"><a href="#Building-Blocks" class="headerlink" title="Building Blocks"></a>Building Blocks</h3><p><strong><font color=red>Given an integer x, test whether x’s k-th bit is one. (bit tester)</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = 0b b7 b6 b5 b4 b3 b2 b1 b0</span><br><span class="line">_x    = 0<span class="function">b b7 b7 b7 b6 b5 b4 b3 <span class="title">b2</span> <span class="params">(x &gt;&gt; k)</span></span></span><br><span class="line"><span class="function">&amp;     </span>= 0b <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span></span><br><span class="line">      = 0b <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((x &gt;&gt; k) &amp; <span class="number">1</span> == <span class="number">0</span>) &#123;</span><br><span class="line">   <span class="comment">// b2 is 0</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="comment">// b2 is 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=red>Given an integer x, how to set x’s k-th bit to 1? (bit setter)</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// k = 2</span></span><br><span class="line"><span class="keyword">int</span> x = 0b b7 b6 b5 b4 b3 b2 b1 b0</span><br><span class="line">|     = 0b <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">0</span>  (<span class="number">1</span> &lt;&lt; k)</span><br><span class="line">      = 0b b7 b6 b5 b4 b3 <span class="number">1</span>  b1 b0</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res = x | (<span class="number">1</span> &lt;&lt; k);</span><br></pre></td></tr></table></figure>

<p><strong><font color=red>Given an integer x, how to set x’s k-th bit to 0? (bit resetter)</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// k = 2</span></span><br><span class="line"><span class="keyword">int</span> x = 0b b7 b6 b5 b4 b3 b2 b1 b0</span><br><span class="line">&amp;     = 0b <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">1</span>  (~<span class="number">0b00000100</span>) = ~(<span class="number">1</span> &lt;&lt; k)</span><br><span class="line">      = 0b b7 b6 b5 b4 b3 <span class="number">0</span>  b1 b0</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res = x &amp; ~(<span class="number">1</span> &lt;&lt; k);</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.1 Determine whether an integer x is a power of 2.</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isPowerTwo</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> (x &gt; <span class="number">0</span>) &amp;&amp; (x &amp; (x - <span class="number">1</span>) == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// debug</span></span><br><span class="line"><span class="comment">// 2的幂次</span></span><br><span class="line">x     = 0b <span class="number">00010000</span></span><br><span class="line">x - <span class="number">1</span> = 0b <span class="number">00001111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不是2的幂次</span></span><br><span class="line">x     = 0b <span class="number">00010010</span></span><br><span class="line">x - <span class="number">1</span> = 0b <span class="number">00010001</span></span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.2 How to determine the number of bits that are different between two integers?</font></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numberOfDifferentBits</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> c = a ^ b; c != <span class="number">0</span>; c = c &gt;&gt; <span class="number">1</span>) &#123;</span><br><span class="line">      count += (c &amp; <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.3 Conversion between signed and unsigned, bit extension and bit truncation.</font></strong></p>
<p><strong><font color=#3273DC>Example.4 Determine whether a string contains unique characters.</font></strong><br><strong>M1: HashSet</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasUnique</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">   HashSet&lt;Character&gt; set = <span class="keyword">new</span> HashSet&lt;Character&gt;();</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); ++i) &#123;</span><br><span class="line">      <span class="keyword">if</span> (set.contains(str.charAt(i))) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      set.add(str.charAt(i));</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(1)</li>
<li>SC: O(1)</li>
</ul>
<p><strong>M2: boolean[]</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasUnique</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// assume ASCII</span></span><br><span class="line">   <span class="comment">// set[i] 表示ascii为i的字符是否出现过</span></span><br><span class="line">   <span class="keyword">boolean</span>[] set = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">256</span>];</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); ++i) &#123;</span><br><span class="line">      <span class="keyword">if</span> (set[str.charAt(i)]) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      set[str.charAt(i)] = <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>TC: O(1)</li>
<li>SC: O(1)</li>
</ul>
<p><strong>M3: bit</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasUnique</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// int set = 0b b31 b30 b29 ... b0</span></span><br><span class="line">   <span class="comment">// b0 代表 &#x27;a&#x27; 是否出现</span></span><br><span class="line">   <span class="comment">// b1 代表 &#x27;b&#x27; 是否出现</span></span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">   <span class="comment">// b25 代表 &#x27;z&#x27; 是否出现</span></span><br><span class="line">   <span class="keyword">int</span> set = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); ++i) &#123;</span><br><span class="line">      <span class="keyword">int</span> k = a.charAt(i) - <span class="number">97</span>;</span><br><span class="line">      <span class="keyword">if</span> ((set &gt;&gt; k) &amp; <span class="number">1</span> == <span class="number">1</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// bit setter</span></span><br><span class="line">      set = set | (<span class="number">1</span> &lt;&lt; k);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.5 How to reverse all bits of a numver?</font></strong></p>
<!-- TODO: -->

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverseBits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font color=#3273DC>Example.6 Given a non-negative integer x, how to get the hexadecimal representation of the number in string type?</font></strong></p>
<p><strong>M1: 除模</strong><br><img src="/assets/algorithm/08.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">toHex</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;0x0&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">char</span>[] base = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">   StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">   <span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">int</span> remainder = num % <span class="number">16</span>;</span><br><span class="line">      num = num / <span class="number">16</span>;</span><br><span class="line">      sb.append(base[remainder]);</span><br><span class="line">   &#125;</span><br><span class="line">   sb.append(<span class="string">&quot;x0&quot;</span>);</span><br><span class="line">   sb.reverse();</span><br><span class="line">   <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>M2: 四位二进制变为一位十六进制</strong><br><img src="/assets/algorithm/09.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">toHex</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">char</span>[] base = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">   StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> maskEnd = <span class="number">28</span>; maskEnd &gt;= <span class="number">0</span>; maskEnd -= <span class="number">4</span>) &#123;</span><br><span class="line">      <span class="keyword">char</span> digit = base[(num &gt;&gt; maskEnd) &amp; <span class="number">0xF</span>];</span><br><span class="line">      sb.append(digit);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Bit-Representation-for-Integers"><a href="#Bit-Representation-for-Integers" class="headerlink" title="Bit Representation for Integers"></a>Bit Representation for Integers</h3><table>
<thead>
<tr>
<th></th>
<th align="center">min</th>
<th align="center">max</th>
<th align="center">count</th>
</tr>
</thead>
<tbody><tr>
<td>原码(true)</td>
<td align="center">1111 (-7)</td>
<td align="center">0111 (7)</td>
<td align="center">15</td>
</tr>
<tr>
<td>反码(one’s complement)</td>
<td align="center">1000 (-7)</td>
<td align="center">0111 (7)</td>
<td align="center">15</td>
</tr>
<tr>
<td>补码(two’s complement)</td>
<td align="center">1000 (-8)</td>
<td align="center">0111 (7)</td>
<td align="center">16</td>
</tr>
</tbody></table>
<p>one’s complement can only represent <strong>-(2<sup>N-1</sup> - 1)</strong> to <strong>(2<sup>N-1</sup> - 1)</strong> unding N bits<br>two’s complement can represent <strong>-2<sup>N-1</sup></strong> to <strong>2<sup>N-1</sup></strong> using N bits</p>
<h3 id="“-gt-gt-gt-”-vs-“-gt-gt-”"><a href="#“-gt-gt-gt-”-vs-“-gt-gt-”" class="headerlink" title="“&gt;&gt;&gt;” vs. “&gt;&gt;”"></a>“&gt;&gt;&gt;” vs. “&gt;&gt;”</h3><ul>
<li>unsigned shift “&gt;&gt;&gt;” - logical<br><img src="/assets/algorithm/10.png"></li>
<li>signed shift “&gt;&gt;” - arithmetical<br><img src="/assets/algorithm/11.png"></li>
</ul>
<h3 id="Autoboxing-amp-Unboxing"><a href="#Autoboxing-amp-Unboxing" class="headerlink" title="Autoboxing &amp; Unboxing"></a>Autoboxing &amp; Unboxing</h3><ul>
<li><strong>Autoboxing</strong> is the automatic conversion that the Java complier makes between the primitive types and their corresponding object wrapper classes.</li>
<li><strong>Unboxing</strong> is the reverse operation of autoboxing.</li>
</ul>
<hr>
<h2 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h2><p><strong>核心思想</strong></p>
<ol>
<li>把一个大问题 (size == n) 的解决方案用比他小的问题来解决，也就是思考从问题 size = n - 1 增加到 size = n 的时候，如何用小问题的 solution 构建大问题的 solution。</li>
<li>与 recursion 的关系：<ul>
<li>Recursion 从大到小来解决问题，不记录任何 sub-solution 只要考虑<ul>
<li>base case</li>
<li>recursion rule</li>
</ul>
</li>
<li>DP 从小到大来解决问题，记录 sub-solution<ul>
<li>base case</li>
<li>由 size (&lt; n) 的 sub-solution(s) -&gt; size (n)的 solution</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>When to use DP vs. DFS?</strong></p>
<ol>
<li>You are required to print out ALL possible permutations -&gt; DFS</li>
<li>You are required to <strong>ONLY</strong> return the final 1 number (min / max cut numbers)</li>
</ol>
<h3 id="Linear-scan-and-look-back-80-questions"><a href="#Linear-scan-and-look-back-80-questions" class="headerlink" title="Linear scan and look back (80% questions)"></a>Linear scan and look back (80% questions)</h3><p><strong><font color=#3273DC>Example.1 Largest sum of subarray</font></strong><br>Given an array, find the <strong>subarray</strong> that has the greatest sum. Return the sum.</p>
<ol>
<li>base case: M[0] = input[0]</li>
<li>induction rule:<ul>
<li>M[i] represents [from 0-th index to i-th index] the largest sum of subarray, <strong>must include the i-th index</strong></li>
<li>M[i] = M[i - 1] + input[i] (if M[i - 1] &gt;= 0)<br>input[i] (else)</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestSum</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="article-licensing box"><div class="licensing-title"><p>Data Structure &amp; Algorithm</p><p><a href="https://xiongshihao.xyz/2021/07/09/Algorithm/">https://xiongshihao.xyz/2021/07/09/Algorithm/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Shihao Xiong</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-07-09</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-01-15</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Java/">Java</a><a class="link-muted mr-2" rel="tag" href="/tags/Algorithm/">Algorithm</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/07/28/Webpack/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Webpack</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/07/09/Java/"><span class="level-item">Java</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Shihao Xiong"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shihao Xiong</p><p class="is-size-6 is-block">Web Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Chengdu, Sichuan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">9</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/sxiong5" target="_blank" rel="noopener">Follow</a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Design/"><span class="level-start"><span class="level-item">Design</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Notes/"><span class="level-start"><span class="level-item">Notes</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Ajax/"><span class="tag">Ajax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Css/"><span class="tag">Css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design/"><span class="tag">Design</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vue/"><span class="tag">Vue</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">6</span></a></div></div></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-09-12T01:00:46.000Z">2021-09-11</time></p><p class="title"><a href="/2021/09/11/System-Design/">System Design</a></p><p class="categories"><a href="/categories/Design/">Design</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/07/29/React/"><img src="/assets/react/cover.png" alt="React"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-29T21:34:14.000Z">2021-07-29</time></p><p class="title"><a href="/2021/07/29/React/">React</a></p><p class="categories"><a href="/categories/Notes/">Notes</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/07/29/Vue/"><img src="/assets/vue/cover.png" alt="Vue"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-29T21:32:59.000Z">2021-07-29</time></p><p class="title"><a href="/2021/07/29/Vue/">Vue</a></p><p class="categories"><a href="/categories/Notes/">Notes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-28T13:52:40.000Z">2021-07-28</time></p><p class="title"><a href="/2021/07/28/Webpack/">Webpack</a></p><p class="categories"><a href="/categories/Notes/">Notes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-09T20:02:50.000Z">2021-07-09</time></p><p class="title"><a href="/2021/07/09/Algorithm/">Data Structure &amp; Algorithm</a></p><p class="categories"><a href="/categories/Notes/">Notes</a></p></div></article></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Data-Structure"><span class="level-left"><span class="level-item">1</span><span class="level-item">Data Structure</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Time-Complexity-amp-Space-Complexity"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Time Complexity &amp; Space Complexity</span></span></a></li><li><a class="level is-mobile" href="#ArrayList"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">ArrayList</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Binary-Search"><span class="level-left"><span class="level-item">2</span><span class="level-item">Binary Search</span></span></a></li><li><a class="level is-mobile" href="#Recursion-Queue-amp-Stack"><span class="level-left"><span class="level-item">3</span><span class="level-item">Recursion, Queue &amp; Stack</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Recursion-与计算的结合"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Recursion 与计算的结合</span></span></a></li><li><a class="level is-mobile" href="#Recursion-与-1D-or-2D-Array-的结合"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Recursion 与 1D or 2D Array 的结合</span></span></a></li><li><a class="level is-mobile" href="#Recursion-与-LinkedList-的结合"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">Recursion 与 LinkedList 的结合</span></span></a></li><li><a class="level is-mobile" href="#Recursion-与-String-的结合"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">Recursion 与 String 的结合</span></span></a></li><li><a class="level is-mobile" href="#Recursion-与-Tree-的结合"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">Recursion 与 Tree 的结合</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Recursion-Tree-第一类问题：从下往上反值"><span class="level-left"><span class="level-item">3.5.1</span><span class="level-item">Recursion + Tree 第一类问题：从下往上反值</span></span></a></li><li><a class="level is-mobile" href="#Recursion-Tree-第二类问题：Path-Problem-in-Binary-Tree"><span class="level-left"><span class="level-item">3.5.2</span><span class="level-item">Recursion + Tree 第二类问题：Path Problem in Binary Tree</span></span></a></li><li><a class="level is-mobile" href="#Recursion-Tree-第三类问题：Tree-Serialization-Problem"><span class="level-left"><span class="level-item">3.5.3</span><span class="level-item">Recursion + Tree 第三类问题：Tree Serialization Problem</span></span></a></li><li><a class="level is-mobile" href="#Recursion-Tree-第四类问题：Tree-De-serialization-Problem"><span class="level-left"><span class="level-item">3.5.4</span><span class="level-item">Recursion + Tree 第四类问题：Tree De-serialization Problem</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Queue"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">Queue</span></span></a></li><li><a class="level is-mobile" href="#Stack"><span class="level-left"><span class="level-item">3.7</span><span class="level-item">Stack</span></span></a></li><li><a class="level is-mobile" href="#Deque"><span class="level-left"><span class="level-item">3.8</span><span class="level-item">Deque</span></span></a></li><li><a class="level is-mobile" href="#Queue-Stack-amp-Deque"><span class="level-left"><span class="level-item">3.9</span><span class="level-item">Queue, Stack &amp; Deque</span></span></a></li><li><a class="level is-mobile" href="#Stack-by-Linked-List"><span class="level-left"><span class="level-item">3.10</span><span class="level-item">Stack by Linked List</span></span></a></li><li><a class="level is-mobile" href="#Queue-by-Linked-List"><span class="level-left"><span class="level-item">3.11</span><span class="level-item">Queue by Linked List</span></span></a></li><li><a class="level is-mobile" href="#Queue-by-Array"><span class="level-left"><span class="level-item">3.12</span><span class="level-item">Queue by Array</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Linked-List"><span class="level-left"><span class="level-item">4</span><span class="level-item">Linked List</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Array-vs-LinkedList"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">Array vs. LinkedList</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Sorting-Algorithms"><span class="level-left"><span class="level-item">5</span><span class="level-item">Sorting Algorithms</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Selection-Sort"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Selection Sort</span></span></a></li><li><a class="level is-mobile" href="#Merge-Sort"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">Merge Sort</span></span></a></li><li><a class="level is-mobile" href="#Quick-Sort"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">Quick Sort</span></span></a></li><li><a class="level is-mobile" href="#Rainbow-Sort"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">Rainbow Sort</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Binary-Tree"><span class="level-left"><span class="level-item">6</span><span class="level-item">Binary Tree</span></span></a></li><li><a class="level is-mobile" href="#Binary-Search-Tree-BST"><span class="level-left"><span class="level-item">7</span><span class="level-item">Binary Search Tree (BST)</span></span></a></li><li><a class="level is-mobile" href="#Graph"><span class="level-left"><span class="level-item">8</span><span class="level-item">Graph</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#General-Tree"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">General Tree</span></span></a></li><li><a class="level is-mobile" href="#Graph-1"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">Graph</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Heap-amp-Graph-Search-Algorithms"><span class="level-left"><span class="level-item">9</span><span class="level-item">Heap &amp; Graph Search Algorithms</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Heap"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">Heap</span></span></a></li><li><a class="level is-mobile" href="#Breadth-First-Search-BFS-1"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">Breadth-First Search (BFS-1)</span></span></a></li><li><a class="level is-mobile" href="#Best-First-Search-BFS-2"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">Best First Search (BFS-2)</span></span></a></li><li><a class="level is-mobile" href="#Heap-in-Java-PriorityQueue"><span class="level-left"><span class="level-item">9.4</span><span class="level-item">Heap in Java (PriorityQueue)</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#PriorityQueue"><span class="level-left"><span class="level-item">9.4.1</span><span class="level-item">PriorityQueue</span></span></a></li><li><a class="level is-mobile" href="#概念区分"><span class="level-left"><span class="level-item">9.4.2</span><span class="level-item">概念区分</span></span></a></li><li><a class="level is-mobile" href="#Order"><span class="level-left"><span class="level-item">9.4.3</span><span class="level-item">Order</span></span></a></li><li><a class="level is-mobile" href="#Most-frequently-used-constructors-of-PriorityQueue"><span class="level-left"><span class="level-item">9.4.4</span><span class="level-item">Most frequently used constructors of PriorityQueue</span></span></a></li><li><a class="level is-mobile" href="#Nested-Classes"><span class="level-left"><span class="level-item">9.4.5</span><span class="level-item">Nested Classes</span></span></a></li><li><a class="level is-mobile" href="#Anonymous-inner-class-define-in-a-method-with-just-new-and-no-definition"><span class="level-left"><span class="level-item">9.4.6</span><span class="level-item">Anonymous inner class (define in a method with just new and no definition)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Implementing-Heaps"><span class="level-left"><span class="level-item">9.5</span><span class="level-item">Implementing Heaps</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Basic-Heap-Internal-Operations"><span class="level-left"><span class="level-item">9.5.1</span><span class="level-item">Basic Heap Internal Operations</span></span></a></li><li><a class="level is-mobile" href="#Implementation-of-Min-Heap"><span class="level-left"><span class="level-item">9.5.2</span><span class="level-item">Implementation of Min Heap</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Graph-Search-Algorithms-DFS-Depth-First-Search"><span class="level-left"><span class="level-item">9.6</span><span class="level-item">Graph Search Algorithms - DFS(Depth-First Search)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Set-Map-amp-String"><span class="level-left"><span class="level-item">10</span><span class="level-item">Set, Map &amp; String</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Set"><span class="level-left"><span class="level-item">10.1</span><span class="level-item">Set</span></span></a></li><li><a class="level is-mobile" href="#Map"><span class="level-left"><span class="level-item">10.2</span><span class="level-item">Map</span></span></a></li><li><a class="level is-mobile" href="#HashMap"><span class="level-left"><span class="level-item">10.3</span><span class="level-item">HashMap</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Common-API"><span class="level-left"><span class="level-item">10.3.1</span><span class="level-item">Common API</span></span></a></li><li><a class="level is-mobile" href="#HashMap-Implementation"><span class="level-left"><span class="level-item">10.3.2</span><span class="level-item">HashMap Implementation</span></span></a></li></ul></li><li><a class="level is-mobile" href="#String"><span class="level-left"><span class="level-item">10.4</span><span class="level-item">String</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Advanced-Topics"><span class="level-left"><span class="level-item">10.4.1</span><span class="level-item">Advanced Topics</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Bit-Representation-amp-Bit-Operations"><span class="level-left"><span class="level-item">11</span><span class="level-item">Bit Representation &amp; Bit Operations</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Bit-Operations-TC-O-1"><span class="level-left"><span class="level-item">11.1</span><span class="level-item">Bit Operations (TC: O(1))</span></span></a></li><li><a class="level is-mobile" href="#Building-Blocks"><span class="level-left"><span class="level-item">11.2</span><span class="level-item">Building Blocks</span></span></a></li><li><a class="level is-mobile" href="#Bit-Representation-for-Integers"><span class="level-left"><span class="level-item">11.3</span><span class="level-item">Bit Representation for Integers</span></span></a></li><li><a class="level is-mobile" href="#“-gt-gt-gt-”-vs-“-gt-gt-”"><span class="level-left"><span class="level-item">11.4</span><span class="level-item">“&gt;&gt;&gt;” vs. “&gt;&gt;”</span></span></a></li><li><a class="level is-mobile" href="#Autoboxing-amp-Unboxing"><span class="level-left"><span class="level-item">11.5</span><span class="level-item">Autoboxing &amp; Unboxing</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Dynamic-Programming"><span class="level-left"><span class="level-item">12</span><span class="level-item">Dynamic Programming</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Linear-scan-and-look-back-80-questions"><span class="level-left"><span class="level-item">12.1</span><span class="level-item">Linear scan and look back (80% questions)</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="xBlog" height="28"></a><p class="is-size-7"><span>&copy; 2022 Shihao Xiong</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>